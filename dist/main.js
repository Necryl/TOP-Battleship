(()=>{var n={556:n=>{const e=(()=>{function n(n){if(!(n<5&&n>0))throw Error(`invalid length param: out of range (1-4) -> ${n}`);let e=0;return{length:n,hit:function(){if(!(e<n))throw Error("Ship is already destroyed");e+=1},isSunk:function(){return n===e},cells:[]}}function t(n){return{loc:n,ship:null,shot:!1}}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const a=[],r={};function o(){a.splice(0,1/0),Object.keys(r).forEach((n=>{delete r[n]}));for(let n=0;n<e;n++)for(let a=0;a<e;a++)r[[n,a]]=t([n,a]);for(let e=1;e<=4;e++)a.push(n(e))}function s(n){for(var t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];if(o.length!==n)throw Error("number of cells to be filled doesn't match ship size");o.forEach((n=>{if(n.forEach((n=>{if(n<0||n>e-1)throw Error("at least one of the given cells is invalid")})),null!==r[n].ship)throw Error("at least one of the given cells already host a ship")}));const i=[],A=[];o.forEach((n=>{i.push(n[0]),A.push(n[1])}));const l=n=>{let e=!0;for(let t=1;t<n.length;t++)if(n[t-1]!==n[t]){e=!1;break}return e};if(!l(i)&&!l(A))throw Error("the given cells are not adjacent");0!==a[n-1].cells.length&&a[n-1].cells.forEach((n=>{r[n].ship=null}));const c=[];[...o].forEach((e=>{r[e].ship=n,c.push(e)})),a[n-1].cells=c}function i(n,e){let t,a="Array";switch("string"==typeof n&&(n=JSON.parse(`[${n}]`),a="String"),e){case"up":t=[n[0]+1,n[1]];break;case"down":t=[n[0]-1,n[1]];break;case"right":t=[n[0],n[1]+1];break;case"left":t=[n[0],n[1]-1];break;default:throw Error(`Invalid value for parameter dir (direction): ${e}`)}return t=t.reduce(((n,e)=>((e>9||e<0)&&(n=!1),n)),t),"String"===a&&Array.isArray(t)?t.join(","):t}function A(){o();const n=Object.keys(r),e=()=>{let e;for(;;){const t=Math.floor(Math.random()*n.length);if(e=JSON.parse(`[${n[t]}]`),null===r[e].ship)break;n.splice(t,1)}return e};a.forEach((n=>{s(n.length,...(n=>{let t=[e()],a=["up","down","right","left"],o=Math.floor(Math.random()*a.length);for(;t.length!==n;){const n=i(t[t.length-1],a[o]);void 0!==r[n]&&null===r[n].ship?t.push(n):(t=t.slice(0,1),a.splice(o,1),0===a.length&&(a=["up","down","right","left"],t=[e()]),o=Math.floor(Math.random()*a.length))}return t})(n.length))}))}function l(n){n.forEach((n=>{if(n<0||n>e-1)throw Error("Given cell location is invalid")}));const t=r[n];return t.shot=!0,null!==t.ship&&(a[t.ship-1].hit(),!0)}function c(){return a.reduce(((n,e)=>(!1===e.isSunk()&&(n=!1),n)),!0)}return o(),{initiate:o,place:s,placeAtRandom:A,receiveAttack:l,getAdjacentCell:i,defeated:c,ships:a,cells:r}}const r=(()=>{const n=[],t=a(10);function r(){return e.Player.board}function o(e){return!!n.includes(JSON.stringify(e))&&r().cells[e]}const s=[];return{board:t,currentBoard:r,look:o,reset:function(){n.splice(0,1/0),s.splice(0,1/0),t.initiate()},exposed:n=>{const e=[],t=[null];function a(n){if(void 0===n)return t[0];t[0]=["up","down","vertical"].includes(n)?"vertical":["left","right","horizontal"].includes(n)?"horizontal":null}return{cells:e,direction:a,isSunk:function(){if(null===a())return!1;const n="vertical"===a()?["up","down"]:["left","right"],t=o(r().getAdjacentCell(e[0])),s=o(r().getAdjacentCell(e[e.length-1],n[1]));return!1!==t&&!1!==s},ship:n}},exposedShips:s,visibleCells:n}})(),o={board:a(10)};return{Ship:n,Gameboard:a,Cell:t,AI:r,Player:o}})();n.exports={Data:e}},883:(n,e,t)=>{"use strict";t.d(e,{Z:()=>i});var a=t(537),r=t.n(a),o=t(645),s=t.n(o)()(r());s.push([n.id,'#arenaView {\n  /* background-color: aqua; */\n  display: grid;\n  grid-template-rows: auto auto 1fr;\n  gap: 1rem;\n  padding: 1rem;\n}\n\n#topBar {\n  /* background-color: yellow; */\n\n  display: grid;\n  grid-template-columns: auto auto;\n  place-content: center;\n  gap: 1rem;\n}\n\n#arenaView #topBar button {\n  font-size: 1.3rem;\n}\n\n#arena {\n  /* background-color: green; */\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n}\n\n#arena > div {\n  display: grid;\n  gap: 1rem;\n  grid-template-columns: auto auto;\n}\n\n#player > div:not(.statusContainer) {\n  justify-self: end;\n}\n\n.controls {\n  display: grid;\n  grid-template-columns: auto auto;\n  place-content: center;\n  gap: 1rem;\n}\n\n.controls button {\n  font-size: 1rem;\n}\n\n#arena .statusContainer {\n  display: grid;\n  gap: 0.75rem;\n}\n\n#arena #player .statusContainer {\n  justify-items: start;\n}\n\n#arena #computer .statusContainer {\n  justify-items: end;\n}\n\n#arena .statusContainer > * {\n  display: block;\n  --unit: 1rem;\n  height: var(--unit);\n  width: calc(var(--unit) * var(--size));\n  background-color: var(--status);\n}\n\n#arena > div > div {\n  align-content: center;\n  gap: 1rem;\n}\n#arena > div > div:not(.statusContainer) {\n  display: grid;\n  width: 100%;\n}\n\n#arena div:not(.statusContainer) .name {\n  text-align: center;\n  user-select: none;\n  position: relative;\n}\n\n[data-stage="Battle"] .name.playing::after {\n  content: "";\n  position: absolute;\n  animation: dot-dot-dot 3s infinite;\n}\n\n@keyframes dot-dot-dot {\n  0% {\n    content: ".";\n  }\n  25% {\n    content: ".";\n  }\n  50% {\n    content: "..";\n  }\n  100% {\n    content: "...";\n  }\n}\n\n#arena div:not(.statusContainer) .board {\n  border: 0.15rem solid black;\n  position: relative;\n  display: grid;\n  place-self: center;\n  width: 100%;\n  max-width: 50vh;\n  min-width: 14rem;\n\n  grid-template-columns: repeat(10, 10%);\n}\n\n#arena div:not(.statusContainer) .board > .cell {\n  padding-bottom: 100%;\n  border: 0.1rem solid rgba(128, 128, 128, 0.342);\n  background-color: var(--status);\n  position: relative;\n}\n\n[data-stage="Setup"] #arena #player .cell {\n  touch-action: none;\n}\n\n[data-stage="Battle"] #arena #computer .board .cell:hover::after {\n  content: "";\n  position: absolute;\n  z-index: 1;\n  top: 0%;\n  left: 0%;\n  height: 100%;\n  width: 100%;\n  outline: 0.15rem solid rgb(255, 255, 255);\n  pointer-events: none;\n}\n\n:is([data-stage="Battle"], [data-stage="End"]) :is(.controls, #startBtn) {\n  display: none !important;\n}\n\n#bottomBar {\n  /* background-color: red; */\n  display: grid;\n  place-content: center;\n}\n\n#bottomBar button {\n  font-size: 1.75rem;\n}\n\n.status.selected {\n  outline: 0.2rem solid rgb(0, 110, 255);\n}\n\n.status[data-size="4"] {\n  --size: 4;\n}\n.status[data-size="3"] {\n  --size: 3;\n}\n.status[data-size="2"] {\n  --size: 2;\n}\n.status[data-size="1"] {\n  --size: 1;\n}\n.status[data-status="intact"] {\n  --status: grey;\n}\n.status[data-status="sunk"] {\n  --status: red;\n}\n\n.cell[data-status="hold"] {\n  --status: white;\n}\n\n.cell[data-status="mist"] {\n  --status: rgb(94, 122, 141);\n}\n.cell[data-status="water"] {\n  --status: rgb(20, 95, 145);\n}\n.cell[data-status="ship"] {\n  --status: rgb(96, 100, 102);\n}\n.cell[data-status="hit"] {\n  --status: rgb(37, 34, 39);\n}\n.cell[data-status="sunk"] {\n  --status: rgb(145, 42, 42);\n}\n\n@media (max-aspect-ratio: 65/96) {\n  #arena {\n    grid-template-columns: auto;\n  }\n  #arena > div {\n    grid-template-columns: auto 1fr;\n  }\n  #arena > div > div {\n    gap: 0.3rem;\n  }\n  #arena div:not(.statusContainer) .board {\n    max-width: 40vh;\n  }\n  #computer > div:not(.statusContainer) {\n    grid-area: B;\n  }\n  #arena #computer .statusContainer {\n    grid-area: S;\n    justify-items: start;\n  }\n  #computer {\n    grid-template-areas: "S B";\n  }\n  #computer .controls {\n    display: none;\n  }\n}\n\n@media (min-aspect-ratio: 916/410) {\n  #arenaView {\n    position: relative;\n    /* background-color: aqua; */\n  }\n  #topBar {\n    position: fixed;\n    top: 0.3rem;\n    left: 0.3rem;\n    grid-template-columns: auto;\n    background-color: white;\n  }\n  #topBar button {\n    scale: 0%;\n    background-color: white;\n  }\n  #helpBtn,\n  #newGameBtn {\n    position: absolute;\n  }\n  #helpBtn {\n    top: 100%;\n  }\n  #newGameBtn {\n    top: 300%;\n    width: max-content;\n  }\n  #topBar::before {\n    content: "MENU ^";\n  }\n  #topBar:hover::before {\n    content: "MENU v";\n  }\n  #topBar.open button {\n    scale: 100%;\n  }\n  #bottomBar {\n    position: fixed;\n    bottom: 0%;\n    right: 0%;\n  }\n}\n',"",{version:3,sources:["webpack://./src/styles/arenaView.css"],names:[],mappings:"AAAA;EACE,4BAA4B;EAC5B,aAAa;EACb,iCAAiC;EACjC,SAAS;EACT,aAAa;AACf;;AAEA;EACE,8BAA8B;;EAE9B,aAAa;EACb,gCAAgC;EAChC,qBAAqB;EACrB,SAAS;AACX;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,6BAA6B;EAC7B,aAAa;EACb,8BAA8B;EAC9B,SAAS;AACX;;AAEA;EACE,aAAa;EACb,SAAS;EACT,gCAAgC;AAClC;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,gCAAgC;EAChC,qBAAqB;EACrB,SAAS;AACX;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,YAAY;AACd;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,cAAc;EACd,YAAY;EACZ,mBAAmB;EACnB,sCAAsC;EACtC,+BAA+B;AACjC;;AAEA;EACE,qBAAqB;EACrB,SAAS;AACX;AACA;EACE,aAAa;EACb,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,iBAAiB;EACjB,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,kCAAkC;AACpC;;AAEA;EACE;IACE,YAAY;EACd;EACA;IACE,YAAY;EACd;EACA;IACE,aAAa;EACf;EACA;IACE,cAAc;EAChB;AACF;;AAEA;EACE,2BAA2B;EAC3B,kBAAkB;EAClB,aAAa;EACb,kBAAkB;EAClB,WAAW;EACX,eAAe;EACf,gBAAgB;;EAEhB,sCAAsC;AACxC;;AAEA;EACE,oBAAoB;EACpB,+CAA+C;EAC/C,+BAA+B;EAC/B,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,UAAU;EACV,OAAO;EACP,QAAQ;EACR,YAAY;EACZ,WAAW;EACX,yCAAyC;EACzC,oBAAoB;AACtB;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,2BAA2B;EAC3B,aAAa;EACb,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,sCAAsC;AACxC;;AAEA;EACE,SAAS;AACX;AACA;EACE,SAAS;AACX;AACA;EACE,SAAS;AACX;AACA;EACE,SAAS;AACX;AACA;EACE,cAAc;AAChB;AACA;EACE,aAAa;AACf;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,2BAA2B;AAC7B;AACA;EACE,0BAA0B;AAC5B;AACA;EACE,2BAA2B;AAC7B;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,0BAA0B;AAC5B;;AAEA;EACE;IACE,2BAA2B;EAC7B;EACA;IACE,+BAA+B;EACjC;EACA;IACE,WAAW;EACb;EACA;IACE,eAAe;EACjB;EACA;IACE,YAAY;EACd;EACA;IACE,YAAY;IACZ,oBAAoB;EACtB;EACA;IACE,0BAA0B;EAC5B;EACA;IACE,aAAa;EACf;AACF;;AAEA;EACE;IACE,kBAAkB;IAClB,4BAA4B;EAC9B;EACA;IACE,eAAe;IACf,WAAW;IACX,YAAY;IACZ,2BAA2B;IAC3B,uBAAuB;EACzB;EACA;IACE,SAAS;IACT,uBAAuB;EACzB;EACA;;IAEE,kBAAkB;EACpB;EACA;IACE,SAAS;EACX;EACA;IACE,SAAS;IACT,kBAAkB;EACpB;EACA;IACE,iBAAiB;EACnB;EACA;IACE,iBAAiB;EACnB;EACA;IACE,WAAW;EACb;EACA;IACE,eAAe;IACf,UAAU;IACV,SAAS;EACX;AACF",sourcesContent:['#arenaView {\n  /* background-color: aqua; */\n  display: grid;\n  grid-template-rows: auto auto 1fr;\n  gap: 1rem;\n  padding: 1rem;\n}\n\n#topBar {\n  /* background-color: yellow; */\n\n  display: grid;\n  grid-template-columns: auto auto;\n  place-content: center;\n  gap: 1rem;\n}\n\n#arenaView #topBar button {\n  font-size: 1.3rem;\n}\n\n#arena {\n  /* background-color: green; */\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n}\n\n#arena > div {\n  display: grid;\n  gap: 1rem;\n  grid-template-columns: auto auto;\n}\n\n#player > div:not(.statusContainer) {\n  justify-self: end;\n}\n\n.controls {\n  display: grid;\n  grid-template-columns: auto auto;\n  place-content: center;\n  gap: 1rem;\n}\n\n.controls button {\n  font-size: 1rem;\n}\n\n#arena .statusContainer {\n  display: grid;\n  gap: 0.75rem;\n}\n\n#arena #player .statusContainer {\n  justify-items: start;\n}\n\n#arena #computer .statusContainer {\n  justify-items: end;\n}\n\n#arena .statusContainer > * {\n  display: block;\n  --unit: 1rem;\n  height: var(--unit);\n  width: calc(var(--unit) * var(--size));\n  background-color: var(--status);\n}\n\n#arena > div > div {\n  align-content: center;\n  gap: 1rem;\n}\n#arena > div > div:not(.statusContainer) {\n  display: grid;\n  width: 100%;\n}\n\n#arena div:not(.statusContainer) .name {\n  text-align: center;\n  user-select: none;\n  position: relative;\n}\n\n[data-stage="Battle"] .name.playing::after {\n  content: "";\n  position: absolute;\n  animation: dot-dot-dot 3s infinite;\n}\n\n@keyframes dot-dot-dot {\n  0% {\n    content: ".";\n  }\n  25% {\n    content: ".";\n  }\n  50% {\n    content: "..";\n  }\n  100% {\n    content: "...";\n  }\n}\n\n#arena div:not(.statusContainer) .board {\n  border: 0.15rem solid black;\n  position: relative;\n  display: grid;\n  place-self: center;\n  width: 100%;\n  max-width: 50vh;\n  min-width: 14rem;\n\n  grid-template-columns: repeat(10, 10%);\n}\n\n#arena div:not(.statusContainer) .board > .cell {\n  padding-bottom: 100%;\n  border: 0.1rem solid rgba(128, 128, 128, 0.342);\n  background-color: var(--status);\n  position: relative;\n}\n\n[data-stage="Setup"] #arena #player .cell {\n  touch-action: none;\n}\n\n[data-stage="Battle"] #arena #computer .board .cell:hover::after {\n  content: "";\n  position: absolute;\n  z-index: 1;\n  top: 0%;\n  left: 0%;\n  height: 100%;\n  width: 100%;\n  outline: 0.15rem solid rgb(255, 255, 255);\n  pointer-events: none;\n}\n\n:is([data-stage="Battle"], [data-stage="End"]) :is(.controls, #startBtn) {\n  display: none !important;\n}\n\n#bottomBar {\n  /* background-color: red; */\n  display: grid;\n  place-content: center;\n}\n\n#bottomBar button {\n  font-size: 1.75rem;\n}\n\n.status.selected {\n  outline: 0.2rem solid rgb(0, 110, 255);\n}\n\n.status[data-size="4"] {\n  --size: 4;\n}\n.status[data-size="3"] {\n  --size: 3;\n}\n.status[data-size="2"] {\n  --size: 2;\n}\n.status[data-size="1"] {\n  --size: 1;\n}\n.status[data-status="intact"] {\n  --status: grey;\n}\n.status[data-status="sunk"] {\n  --status: red;\n}\n\n.cell[data-status="hold"] {\n  --status: white;\n}\n\n.cell[data-status="mist"] {\n  --status: rgb(94, 122, 141);\n}\n.cell[data-status="water"] {\n  --status: rgb(20, 95, 145);\n}\n.cell[data-status="ship"] {\n  --status: rgb(96, 100, 102);\n}\n.cell[data-status="hit"] {\n  --status: rgb(37, 34, 39);\n}\n.cell[data-status="sunk"] {\n  --status: rgb(145, 42, 42);\n}\n\n@media (max-aspect-ratio: 65/96) {\n  #arena {\n    grid-template-columns: auto;\n  }\n  #arena > div {\n    grid-template-columns: auto 1fr;\n  }\n  #arena > div > div {\n    gap: 0.3rem;\n  }\n  #arena div:not(.statusContainer) .board {\n    max-width: 40vh;\n  }\n  #computer > div:not(.statusContainer) {\n    grid-area: B;\n  }\n  #arena #computer .statusContainer {\n    grid-area: S;\n    justify-items: start;\n  }\n  #computer {\n    grid-template-areas: "S B";\n  }\n  #computer .controls {\n    display: none;\n  }\n}\n\n@media (min-aspect-ratio: 916/410) {\n  #arenaView {\n    position: relative;\n    /* background-color: aqua; */\n  }\n  #topBar {\n    position: fixed;\n    top: 0.3rem;\n    left: 0.3rem;\n    grid-template-columns: auto;\n    background-color: white;\n  }\n  #topBar button {\n    scale: 0%;\n    background-color: white;\n  }\n  #helpBtn,\n  #newGameBtn {\n    position: absolute;\n  }\n  #helpBtn {\n    top: 100%;\n  }\n  #newGameBtn {\n    top: 300%;\n    width: max-content;\n  }\n  #topBar::before {\n    content: "MENU ^";\n  }\n  #topBar:hover::before {\n    content: "MENU v";\n  }\n  #topBar.open button {\n    scale: 100%;\n  }\n  #bottomBar {\n    position: fixed;\n    bottom: 0%;\n    right: 0%;\n  }\n}\n'],sourceRoot:""}]);const i=s},428:(n,e,t)=>{"use strict";t.d(e,{Z:()=>i});var a=t(537),r=t.n(a),o=t(645),s=t.n(o)()(r());s.push([n.id,"#endView {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  display: grid;\n  place-content: center;\n}\n\n#endCard {\n  border: 0.1em solid black;\n  border-radius: 1em;\n  background-color: white;\n  padding: 1em;\n  min-height: 20vh;\n  min-width: 50vw;\n  display: grid;\n  place-content: center;\n\n  font-size: 3rem;\n}\n\n#endMsg {\n  font-size: inherit;\n}\n","",{version:3,sources:["webpack://./src/styles/endView.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,YAAY;EACZ,WAAW;EACX,aAAa;EACb,qBAAqB;AACvB;;AAEA;EACE,yBAAyB;EACzB,kBAAkB;EAClB,uBAAuB;EACvB,YAAY;EACZ,gBAAgB;EAChB,eAAe;EACf,aAAa;EACb,qBAAqB;;EAErB,eAAe;AACjB;;AAEA;EACE,kBAAkB;AACpB",sourcesContent:["#endView {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  display: grid;\n  place-content: center;\n}\n\n#endCard {\n  border: 0.1em solid black;\n  border-radius: 1em;\n  background-color: white;\n  padding: 1em;\n  min-height: 20vh;\n  min-width: 50vw;\n  display: grid;\n  place-content: center;\n\n  font-size: 3rem;\n}\n\n#endMsg {\n  font-size: inherit;\n}\n"],sourceRoot:""}]);const i=s},420:(n,e,t)=>{"use strict";t.d(e,{Z:()=>i});var a=t(537),r=t.n(a),o=t(645),s=t.n(o)()(r());s.push([n.id,"#helpView {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  padding: 10vh 10vw;\n  overflow: auto;\n}\n\n#helpContent {\n  background-color: white;\n  border: 0.15rem solid black;\n  border-radius: 1rem;\n  padding: 2rem;\n  display: grid;\n  gap: 1em;\n  font-size: 1.3rem;\n}\n","",{version:3,sources:["webpack://./src/styles/helpView.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,YAAY;EACZ,WAAW;EACX,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,uBAAuB;EACvB,2BAA2B;EAC3B,mBAAmB;EACnB,aAAa;EACb,aAAa;EACb,QAAQ;EACR,iBAAiB;AACnB",sourcesContent:["#helpView {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  padding: 10vh 10vw;\n  overflow: auto;\n}\n\n#helpContent {\n  background-color: white;\n  border: 0.15rem solid black;\n  border-radius: 1rem;\n  padding: 2rem;\n  display: grid;\n  gap: 1em;\n  font-size: 1.3rem;\n}\n"],sourceRoot:""}]);const i=s},756:(n,e,t)=>{"use strict";t.d(e,{Z:()=>i});var a=t(537),r=t.n(a),o=t(645),s=t.n(o)()(r());s.push([n.id,'* {\n  font-family: "Roboto", sans-serif;\n  margin: 0%;\n  padding: 0%;\n  box-sizing: border-box;\n}\n\nhtml,\nbody {\n  height: 100vh;\n  width: 100vw;\n  display: grid;\n  position: relative;\n}\n\n.disappear {\n  display: none !important;\n}\n\n.hide {\n  opacity: 0% !important;\n}\n\nbutton {\n  --col: black;\n  color: var(--col);\n  font-size: 1.5rem;\n  background-color: transparent;\n  border: none;\n  padding: 0.3rem 1rem;\n  border: 0.1em solid transparent;\n  border-radius: 0.3rem;\n  transition: 100ms;\n}\n\nbutton:hover {\n  border-color: var(--col);\n}\n\nbutton:active {\n  color: rgb(70, 64, 64);\n  background-color: rgb(214, 176, 52);\n}\n',"",{version:3,sources:["webpack://./src/styles/main.css"],names:[],mappings:"AAAA;EACE,iCAAiC;EACjC,UAAU;EACV,WAAW;EACX,sBAAsB;AACxB;;AAEA;;EAEE,aAAa;EACb,YAAY;EACZ,aAAa;EACb,kBAAkB;AACpB;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,YAAY;EACZ,iBAAiB;EACjB,iBAAiB;EACjB,6BAA6B;EAC7B,YAAY;EACZ,oBAAoB;EACpB,+BAA+B;EAC/B,qBAAqB;EACrB,iBAAiB;AACnB;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,sBAAsB;EACtB,mCAAmC;AACrC",sourcesContent:['* {\n  font-family: "Roboto", sans-serif;\n  margin: 0%;\n  padding: 0%;\n  box-sizing: border-box;\n}\n\nhtml,\nbody {\n  height: 100vh;\n  width: 100vw;\n  display: grid;\n  position: relative;\n}\n\n.disappear {\n  display: none !important;\n}\n\n.hide {\n  opacity: 0% !important;\n}\n\nbutton {\n  --col: black;\n  color: var(--col);\n  font-size: 1.5rem;\n  background-color: transparent;\n  border: none;\n  padding: 0.3rem 1rem;\n  border: 0.1em solid transparent;\n  border-radius: 0.3rem;\n  transition: 100ms;\n}\n\nbutton:hover {\n  border-color: var(--col);\n}\n\nbutton:active {\n  color: rgb(70, 64, 64);\n  background-color: rgb(214, 176, 52);\n}\n'],sourceRoot:""}]);const i=s},645:n=>{"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",a=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),a&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),a&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,a,r,o){"string"==typeof n&&(n=[[null,n,void 0]]);var s={};if(a)for(var i=0;i<this.length;i++){var A=this[i][0];null!=A&&(s[A]=!0)}for(var l=0;l<n.length;l++){var c=[].concat(n[l]);a&&s[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),e.push(c))}},e}},537:n=>{"use strict";n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),o="/*# ".concat(r," */"),s=t.sources.map((function(n){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(n," */")}));return[e].concat(s).concat([o]).join("\n")}return[e].join("\n")}},379:n=>{"use strict";var e=[];function t(n){for(var t=-1,a=0;a<e.length;a++)if(e[a].identifier===n){t=a;break}return t}function a(n,a){for(var o={},s=[],i=0;i<n.length;i++){var A=n[i],l=a.base?A[0]+a.base:A[0],c=o[l]||0,d="".concat(l," ").concat(c);o[l]=c+1;var u=t(d),p={css:A[1],media:A[2],sourceMap:A[3],supports:A[4],layer:A[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var C=r(p,a);a.byIndex=i,e.splice(i,0,{identifier:d,updater:C,references:1})}s.push(d)}return s}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var o=a(n=n||[],r=r||{});return function(n){n=n||[];for(var s=0;s<o.length;s++){var i=t(o[s]);e[i].references--}for(var A=a(n,r),l=0;l<o.length;l++){var c=t(o[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}o=A}}},569:n=>{"use strict";var e={};n.exports=function(n,t){var a=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}},216:n=>{"use strict";n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{"use strict";n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{"use strict";n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var a="";t.supports&&(a+="@supports (".concat(t.supports,") {")),t.media&&(a+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(a+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),a+=t.css,r&&(a+="}"),t.media&&(a+="}"),t.supports&&(a+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(a,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{"use strict";n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(a){var r=e[a];if(void 0!==r)return r.exports;var o=e[a]={id:a,exports:{}};return n[a](o,o.exports,t),o.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var a in e)t.o(e,a)&&!t.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:e[a]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0,(()=>{"use strict";var n=t(379),e=t.n(n),a=t(795),r=t.n(a),o=t(569),s=t.n(o),i=t(565),A=t.n(i),l=t(216),c=t.n(l),d=t(589),u=t.n(d),p=t(756),C={};C.styleTagTransform=u(),C.setAttributes=A(),C.insert=s().bind(null,"head"),C.domAPI=r(),C.insertStyleElement=c(),e()(p.Z,C),p.Z&&p.Z.locals&&p.Z.locals;var E=t(883),m={};m.styleTagTransform=u(),m.setAttributes=A(),m.insert=s().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=c(),e()(E.Z,m),E.Z&&E.Z.locals&&E.Z.locals;var h=t(420),B={};B.styleTagTransform=u(),B.setAttributes=A(),B.insert=s().bind(null,"head"),B.domAPI=r(),B.insertStyleElement=c(),e()(h.Z,B),h.Z&&h.Z.locals&&h.Z.locals;var g=t(428),f={};f.styleTagTransform=u(),f.setAttributes=A(),f.insert=s().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=c(),e()(g.Z,f),g.Z&&g.Z.locals&&g.Z.locals;var b=t(556);let y=null;const v=(()=>{const n={root:document.querySelector(":root"),board:{player:document.querySelector("#arenaView #player .board"),computer:document.querySelector("#arenaView #computer .board")},btn:{help:document.querySelector("#helpBtn"),newGame:document.querySelector("#newGameBtn"),randomize:document.querySelector("#randomizeBtn"),reset:document.querySelector("#resetBtn"),start:document.querySelector("#startBtn")},view:{arena:document.querySelector("#arenaView"),help:document.querySelector("#helpView"),end:document.querySelector("#endView")},shipStatus:{player:[document.querySelector("#arena #player .status[data-size='1']"),document.querySelector("#arena #player .status[data-size='2']"),document.querySelector("#arena #player .status[data-size='3']"),document.querySelector("#arena #player .status[data-size='4']")],computer:[document.querySelector("#arena #computer .status[data-size='1']"),document.querySelector("#arena #computer .status[data-size='2']"),document.querySelector("#arena #computer .status[data-size='3']"),document.querySelector("#arena #computer .status[data-size='4']")]},name:{player:document.querySelector("#arena #player .name"),computer:document.querySelector("#arena #computer .name")},topBar:document.querySelector("#arenaView #topBar"),endMsg:document.querySelector("#endView #endMsg"),getCell:(e,t)=>n.board[e].querySelector(`.cell[data-loc="${t}"]`)};let e=null,t="horizontal";const a=[];function r(n,e){Object.keys(e.cells).forEach((e=>{const t=document.createElement("div");t.classList.add("cell"),t.setAttribute("data-loc",e),t.setAttribute("data-status",""),n.appendChild(t)}))}function o(r,o){function s(n){if(!1===n)return!1;n=JSON.parse(`[${n}]`);let e=!0;return n.forEach((n=>{(n>9||n<0)&&(e=!1)})),e}const i="horizontal"===t?["left","right"]:["up","down"];let A=e-1;for(let n=a.length;n>0;n--){const n=a.pop();"hold"===n[0].getAttribute("data-status")&&n[0].setAttribute("data-status",n[1])}let l=n.getCell(r,o);a.push([l,l.getAttribute("data-status")]),l.setAttribute("data-status","hold");const c=[o,o];for(;A>0;)null!==c[0]&&(c[0]=b.Data["player"===r?"Player":"AI"].board.getAdjacentCell(c[0],i[0])),!1===s(c[0])&&(c[0]=null),null!==c[0]&&(l=n.getCell(r,c[0]),a.unshift([l,l.getAttribute("data-status")]),l.setAttribute("data-status","hold"),A-=1),A>0&&(null!==c[1]&&(c[1]=b.Data["player"===r?"Player":"AI"].board.getAdjacentCell(c[1],i[1])),!1===s(c[1])&&(c[1]=null),null!==c[1]&&(l=n.getCell(r,c[1]),a.push([l,l.getAttribute("data-status")]),l.setAttribute("data-status","hold"),A-=1))}function s(){const n=a.reduce(((n,e)=>(n.push(JSON.parse(`[${e[0].getAttribute("data-loc")}]`)),n)),[]),t=b.Data.Player.board.ships[e-1].cells.slice(0);S.Player.place(e,n)&&i("player",...t)}function i(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];a.forEach((t=>{"string"==typeof t&&(t=JSON.parse(`[${t}]`));const a=b.Data["player"===e?"Player":"AI"].board,r=a.cells[t];let o;if("player"===e)switch(y){case"Setup":o="water";break;case"Battle":case"End":o="mist";break;default:throw Error(`Unexpected stage value: ${y}`)}else o="mist";null!==r.ship?a.ships[r.ship-1].isSunk()?o="sunk":r.shot?o="hit":"player"!==e&&"End"!==y||(o="ship"):r.shot&&(o="water"),n.getCell(e,t.join(",")).setAttribute("data-status",o)}))}function A(e){const t=b.Data["player"===e?"Player":"AI"].board,a=Object.values(t.cells).reduce(((n,e)=>(n.push(e.loc),n)),[]);i(e,...a),t.ships.forEach((t=>{t.isSunk()?n.shipStatus[e][t.length-1].setAttribute("data-status","sunk"):n.shipStatus[e][t.length-1].setAttribute("data-status","intact")}))}function l(t){const a=t-1,r=n.shipStatus.player[a];n.shipStatus.player.forEach((n=>{n===r?!1===n.classList.contains("selected")?(n.classList.add("selected"),e=t):(n.classList.remove("selected"),e=null):n.classList.remove("selected")}))}let c=null;return{elem:n,initialise:function(){r(n.board.player,b.Data.Player.board),r(n.board.computer,b.Data.AI.board),document.body.addEventListener("touchmove",(t=>{"Setup"===y&&null!==e&&function(e){const t=document.elementFromPoint(e.clientX,e.clientY);t.classList.contains("cell")&&c!==t&&(o(n.board.player.contains(t)?"player":"computer",t.getAttribute("data-loc")),c=t)}(t.touches[0])})),document.body.addEventListener("touchend",(()=>{"Setup"===y&&null!==e&&0!==a.length&&s()})),n.board.player.addEventListener("mouseleave",(()=>{if(a.length>0)for(let n=a.length;n>0;n--){const n=a.pop();"hold"===n[0].getAttribute("data-status")&&n[0].setAttribute("data-status",n[1])}})),n.board.player.querySelectorAll(".cell").forEach((a=>{!function(a){a.addEventListener("mouseover",(()=>{"Setup"===y&&null!==e&&o(n.board.player.contains(a)?"player":"computer",a.getAttribute("data-loc"))})),a.addEventListener("contextmenu",(r=>{if("Setup"===y&&null!==e)return r.preventDefault(),t="horizontal"===t?"vertical":"horizontal",o(n.board.player.contains(a)?"player":"computer",a.getAttribute("data-loc")),!1})),a.addEventListener("click",(()=>{"Setup"===y&&null!==e&&s()}))}(a)})),n.board.computer.querySelectorAll(".cell").forEach((n=>{n.addEventListener("click",(()=>{"Battle"===y&&"Player"===S.Game.getTurn()&&S.Player.play(n)}))})),n.btn.help.addEventListener("click",(()=>{n.view.help.classList.remove("disappear"),n.topBar.classList.remove("open")})),n.view.help.addEventListener("click",(e=>{e.target===e.currentTarget&&n.view.help.classList.add("disappear")})),n.view.end.addEventListener("click",(e=>{e.target===e.currentTarget&&n.view.end.classList.add("disappear")})),n.shipStatus.player.forEach(((n,e)=>{n.addEventListener("click",(()=>{"Setup"===y&&l(e+1)}))})),n.btn.reset.addEventListener("click",(()=>{"Setup"===y&&S.Player.resetBoard()})),n.btn.randomize.addEventListener("click",(()=>{"Setup"===y&&S.Player.randomize()})),n.btn.newGame.addEventListener("click",(()=>{S.Game.newGame(),n.topBar.classList.remove("open")})),n.btn.start.addEventListener("click",(()=>{S.Game.start()})),n.topBar.addEventListener("mouseover",(()=>{n.topBar.classList.add("open")}))},updateStage:function(){n.root.setAttribute("data-stage",y),A("player"),A("computer"),"Setup"===y&&n.shipStatus.player[3].dispatchEvent(new Event("click"))},selectShip:l,refreshCells:i,refreshBoard:A,selectedShipNum:function(){return e},updateTurn:function(e){Object.entries(n.name).forEach((n=>{n[0]===e?n[1].classList.add("playing"):n[1].classList.remove("playing")}))},declare:function(e){const t=e?"You win!":"You lose!";n.endMsg.textContent=t,n.view.end.classList.remove("disappear")}}})(),S=(()=>{const n=(()=>{const n=b.Data.AI;function e(){return[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}return{play:function(){let t,a;if(0===n.exposedShips.length){let a=!0;for(;a;)t=e(),!1===n.look(t)&&(a=!1)}else if(null===n.exposedShips[0].direction()){const e=["up","down","left","right"];for(let r=0;r<e.length;r++){const o=b.Data.Player.board.getAdjacentCell(n.exposedShips[0].cells[0],e[r]);if(!1!==o&&!1===n.look(o)){t=o,a=e[r];break}}}else{const e="vertical"===n.exposedShips[0].direction()?["up","down"]:["left","right"],r=n.currentBoard().getAdjacentCell(n.exposedShips[0].cells[0],e[0]);if(!1!==r&&!1===n.look(r))t=r,a=e[0];else{const r=n.currentBoard().getAdjacentCell(n.exposedShips[0].cells[n.exposedShips[0].cells.length-1],e[1]);t=r,a=e[1]}}if(n.visibleCells.push(JSON.stringify(t)),b.Data.Player.board.receiveAttack(t)){let e=!0;const r=b.Data.Player.board.cells[t].ship,o=b.Data.Player.board.ships[r-1].isSunk();if(0!==n.exposedShips.length&&n.exposedShips.forEach(((s,i)=>{r===s.ship&&(e=!1,!1===o?(["up","left"].includes(a)?s.cells.unshift(t):s.cells.push(t),null===s.direction()&&s.direction(a)):n.exposedShips.splice(i,1))})),e&&!1===o){const e=n.exposed(b.Data.Player.board.cells[t].ship);n.exposedShips.push(e),e.cells.push(t)}}setTimeout((()=>{v.refreshBoard("player"),S.Game.updateTurn()}),1500)},randomLoc:e,resetBoard:function(){b.Data.AI.reset(),v.refreshBoard("computer")}}})(),e={play:function(n){const e=JSON.parse(`[${n.getAttribute("data-loc")}]`);!1===b.Data.AI.board.cells[e].shot&&(b.Data.AI.board.receiveAttack(e),v.refreshBoard("computer"),t.updateTurn())},place:function(n,e){if(e.reduce(((n,e)=>(null!==b.Data.Player.board.cells[e].ship&&(n=!1),n)),!0)){b.Data.Player.board.place(n,...e),v.refreshCells("player",...e);const t=b.Data.Player.board.ships.reduce(((n,e)=>(0===e.cells.length&&(n=e.length),n)),n);return v.selectShip(t),!0}return!1},resetBoard:function(){b.Data.Player.board.initiate(),v.refreshBoard("player"),v.selectShip(4)},randomize:function(){b.Data.Player.board.placeAtRandom(),v.refreshBoard("player"),null!==v.selectedShipNum&&v.selectShip(v.selectedShipNum())}},t=(()=>{let t=null;function r(){t=null}return{start:function(){const n=b.Data.Player.board.ships.reduce(((n,e)=>(0===e.cells.length&&(n=!1),n)),!0);"Setup"===y&&n&&(b.Data.AI.board.placeAtRandom(),a("Battle"),t="Player",v.updateTurn("player"))},newGame:function(){n.resetBoard(),e.resetBoard(),r(),a("Setup")},updateTurn:function(){t="Player"===t?"AI":"Player",b.Data[t].board.defeated()?function(){let n;if(b.Data.AI.board.defeated())n=!0;else{if(!b.Data.Player.board.defeated())throw Error("Neither board is defeated but endGame was called");n=!1}a("End"),v.declare(n)}():(v.updateTurn("Player"===t?"player":"computer"),"AI"===t&&n.play())},getTurn:function(){return t},reset:r}})();function a(n){y=n,v.updateStage()}return{AI:n,Player:e,Game:t,initialise:function(){v.initialise(),a("Setup")}}})();S.initialise()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TStFLEVBQVF0UixFQUFBQSxLQUFBQSxPQUFBQSxNQUFBQSxNQUFBQSxRQUErQixDQUFDeUMsRUFBT0MsS0FDdEIsSUFBekJBLEVBQVFuQyxNQUFNTCxTQUNoQnVDLEdBQVEsR0FFSEEsS0FDTixHQUNXLFVBQVZvSixHQUFxQnlGLElBQ3ZCdFIsRUFBQUEsS0FBQUEsR0FBQUEsTUFBQUEsZ0JBQ0FnUSxFQUFZLFVBQ1pxQixFQUFPLFNBQ1B2RixFQUFHc0UsV0FBVyxVQUVsQixFQXlDZ0IvRCxRQU5oQixXQUNFekksRUFBR21NLGFBQ0gvTCxFQUFPK0wsYUFDUDFMLElBQ0EyTCxFQUFZLFFBQ2QsRUFDeUJJLFdBdkN6QixXQUNFaUIsRUFBZ0IsV0FBVEEsRUFBb0IsS0FBTyxTQUM5QnJSLEVBQUFBLEtBQUtxUixHQUFNdk4sTUFBTUgsV0FVdkIsV0FDRSxJQUFJNE4sRUFDSixHQUFJdlIsRUFBQUEsS0FBQUEsR0FBQUEsTUFBQUEsV0FDRnVSLEdBQU0sTUFDRCxLQUFJdlIsRUFBQUEsS0FBQUEsT0FBQUEsTUFBQUEsV0FHVCxNQUFNRyxNQUFNLG9EQUZab1IsR0FBTSxDQUdSLENBQ0F2QixFQUFZLE9BQ1psRSxFQUFHMEUsUUFBUWUsRUFDYixDQXBCSUMsSUFFQTFGLEVBQUdzRSxXQUFvQixXQUFUaUIsRUFBb0IsU0FBVyxZQUNoQyxPQUFUQSxHQUNGek4sRUFBR2lNLE9BR1QsRUE2QnFDRCxRQWRyQyxXQUNFLE9BQU95QixDQUNULEVBWThDaE4sUUFDL0MsRUF6RFksR0EyRGIsU0FBUzJMLEVBQVl5QixHQUNuQjVGLEVBQVE0RixFQUNSM0YsRUFBR2tFLGFBQ0wsQ0FPQSxNQUFPLENBQ0xwTSxLQUNBSSxTQUNBMkwsT0FDQWQsV0FURixXQUNFL0MsRUFBRytDLGFBQ0htQixFQUFZLFFBQ2QsRUFRRCxFQXBPYyxHQXNPZjVCLEVBQU9TLFkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91bnRpdGxlZC8uL3NyYy9zY3JpcHRzL2RhdGEuanMiLCJ3ZWJwYWNrOi8vdW50aXRsZWQvLi9zcmMvc3R5bGVzL2FyZW5hVmlldy5jc3MiLCJ3ZWJwYWNrOi8vdW50aXRsZWQvLi9zcmMvc3R5bGVzL2VuZFZpZXcuY3NzIiwid2VicGFjazovL3VudGl0bGVkLy4vc3JjL3N0eWxlcy9oZWxwVmlldy5jc3MiLCJ3ZWJwYWNrOi8vdW50aXRsZWQvLi9zcmMvc3R5bGVzL21haW4uY3NzIiwid2VicGFjazovL3VudGl0bGVkLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly91bnRpdGxlZC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL3VudGl0bGVkLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL3VudGl0bGVkLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly91bnRpdGxlZC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly91bnRpdGxlZC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly91bnRpdGxlZC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL3VudGl0bGVkLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vdW50aXRsZWQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdW50aXRsZWQvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vdW50aXRsZWQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3VudGl0bGVkL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdW50aXRsZWQvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL3VudGl0bGVkLy4vc3JjL3N0eWxlcy9tYWluLmNzcz9lODBhIiwid2VicGFjazovL3VudGl0bGVkLy4vc3JjL3N0eWxlcy9hcmVuYVZpZXcuY3NzPzg0MTAiLCJ3ZWJwYWNrOi8vdW50aXRsZWQvLi9zcmMvc3R5bGVzL2hlbHBWaWV3LmNzcz8yM2VjIiwid2VicGFjazovL3VudGl0bGVkLy4vc3JjL3N0eWxlcy9lbmRWaWV3LmNzcz9iM2MyIiwid2VicGFjazovL3VudGl0bGVkLy4vc3JjL3NjcmlwdHMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBEYXRhID0gKCgpID0+IHtcbiAgZnVuY3Rpb24gU2hpcChsZW5ndGgpIHtcbiAgICBpZiAoIShsZW5ndGggPCA1ICYmIGxlbmd0aCA+IDApKSB7XG4gICAgICB0aHJvdyBFcnJvcihgaW52YWxpZCBsZW5ndGggcGFyYW06IG91dCBvZiByYW5nZSAoMS00KSAtPiAke2xlbmd0aH1gKTtcbiAgICB9XG5cbiAgICBsZXQgaGl0Q291bnQgPSAwO1xuICAgIGNvbnN0IGNlbGxzID0gW107XG5cbiAgICBmdW5jdGlvbiBoaXQoKSB7XG4gICAgICBpZiAoaGl0Q291bnQgPCBsZW5ndGgpIHtcbiAgICAgICAgaGl0Q291bnQgKz0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiU2hpcCBpcyBhbHJlYWR5IGRlc3Ryb3llZFwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1N1bmsoKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoID09PSBoaXRDb3VudDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGVuZ3RoLFxuICAgICAgaGl0LFxuICAgICAgaXNTdW5rLFxuICAgICAgY2VsbHMsXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIENlbGwobG9jKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvYyxcbiAgICAgIHNoaXA6IG51bGwsXG4gICAgICBzaG90OiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gR2FtZWJvYXJkKHNpemUgPSAxMCkge1xuICAgIGNvbnN0IHNoaXBzID0gW107XG4gICAgY29uc3QgY2VsbHMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGluaXRpYXRlKCkge1xuICAgICAgc2hpcHMuc3BsaWNlKDAsIEluZmluaXR5KTtcbiAgICAgIE9iamVjdC5rZXlzKGNlbGxzKS5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgIGRlbGV0ZSBjZWxsc1tjZWxsXTtcbiAgICAgIH0pO1xuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBzaXplOyB4KyspIHtcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBzaXplOyB5KyspIHtcbiAgICAgICAgICBjZWxsc1tbeCwgeV1dID0gQ2VsbChbeCwgeV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA0OyBpKyspIHtcbiAgICAgICAgc2hpcHMucHVzaChTaGlwKGkpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcGxhY2Uoc2hpcCwgLi4ubG9jcykge1xuICAgICAgaWYgKGxvY3MubGVuZ3RoICE9PSBzaGlwKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwibnVtYmVyIG9mIGNlbGxzIHRvIGJlIGZpbGxlZCBkb2Vzbid0IG1hdGNoIHNoaXAgc2l6ZVwiKTtcbiAgICAgIH1cbiAgICAgIGxvY3MuZm9yRWFjaCgobG9jKSA9PiB7XG4gICAgICAgIGxvYy5mb3JFYWNoKChudW0pID0+IHtcbiAgICAgICAgICBpZiAobnVtIDwgMCB8fCBudW0gPiBzaXplIC0gMSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJhdCBsZWFzdCBvbmUgb2YgdGhlIGdpdmVuIGNlbGxzIGlzIGludmFsaWRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGNlbGxzW2xvY10uc2hpcCAhPT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IEVycm9yKFwiYXQgbGVhc3Qgb25lIG9mIHRoZSBnaXZlbiBjZWxscyBhbHJlYWR5IGhvc3QgYSBzaGlwXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIGNoZWNraW5nIHRoYXQgdGhlIGNlbGxzIGFyZSBhZGphY2VudFxuICAgICAgY29uc3QgeENvb3JkcyA9IFtdO1xuICAgICAgY29uc3QgeUNvb3JkcyA9IFtdO1xuICAgICAgbG9jcy5mb3JFYWNoKChsb2MpID0+IHtcbiAgICAgICAgeENvb3Jkcy5wdXNoKGxvY1swXSk7XG4gICAgICAgIHlDb29yZHMucHVzaChsb2NbMV0pO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBpc1NpbWlsYXIgPSAobnVtcykgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBudW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKG51bXNbaSAtIDFdICE9PSBudW1zW2ldKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICAgIGlmICghaXNTaW1pbGFyKHhDb29yZHMpICYmICFpc1NpbWlsYXIoeUNvb3JkcykpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJ0aGUgZ2l2ZW4gY2VsbHMgYXJlIG5vdCBhZGphY2VudFwiKTtcbiAgICAgIH1cblxuICAgICAgLy8gcmVzZXRpbmcgYW55IGNlbGxzIHRoYXQgY3VycmVudGx5IGhvc3QgdGhlIHNoaXBcbiAgICAgIGlmIChzaGlwc1tzaGlwIC0gMV0uY2VsbHMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIHNoaXBzW3NoaXAgLSAxXS5jZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgICAgY2VsbHNbY2VsbF0uc2hpcCA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2hpcENlbGxzID0gW107XG4gICAgICBbLi4ubG9jc10uZm9yRWFjaCgobG9jKSA9PiB7XG4gICAgICAgIGNlbGxzW2xvY10uc2hpcCA9IHNoaXA7XG4gICAgICAgIHNoaXBDZWxscy5wdXNoKGxvYyk7XG4gICAgICB9KTtcbiAgICAgIHNoaXBzW3NoaXAgLSAxXS5jZWxscyA9IHNoaXBDZWxscztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0QWRqYWNlbnRDZWxsKGNlbGwsIGRpcikge1xuICAgICAgbGV0IHR5cGUgPSBcIkFycmF5XCI7XG4gICAgICBpZiAodHlwZW9mIGNlbGwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY2VsbCA9IEpTT04ucGFyc2UoYFske2NlbGx9XWApO1xuICAgICAgICB0eXBlID0gXCJTdHJpbmdcIjtcbiAgICAgIH1cbiAgICAgIGxldCByZXN1bHQ7XG4gICAgICBzd2l0Y2ggKGRpcikge1xuICAgICAgICBjYXNlIFwidXBcIjpcbiAgICAgICAgICByZXN1bHQgPSBbY2VsbFswXSArIDEsIGNlbGxbMV1dO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZG93blwiOlxuICAgICAgICAgIHJlc3VsdCA9IFtjZWxsWzBdIC0gMSwgY2VsbFsxXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICAgIHJlc3VsdCA9IFtjZWxsWzBdLCBjZWxsWzFdICsgMV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgcmVzdWx0ID0gW2NlbGxbMF0sIGNlbGxbMV0gLSAxXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBFcnJvcihgSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyIGRpciAoZGlyZWN0aW9uKTogJHtkaXJ9YCk7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSByZXN1bHQucmVkdWNlKChmaW5hbCwgY3VycmVudCkgPT4ge1xuICAgICAgICBpZiAoY3VycmVudCA+IDkgfHwgY3VycmVudCA8IDApIHtcbiAgICAgICAgICBmaW5hbCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaW5hbDtcbiAgICAgIH0sIHJlc3VsdCk7IC8vIHZhbGlkYXRpbmcgbmV3IGxvYywgcmV0dXJucyB0aGUgbG9jIG9yIGZhbHNlXG4gICAgICBpZiAodHlwZSA9PT0gXCJTdHJpbmdcIiAmJiBBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKFwiLFwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBsYWNlQXRSYW5kb20oKSB7XG4gICAgICBpbml0aWF0ZSgpO1xuICAgICAgY29uc3QgY2VsbExvY3MgPSBPYmplY3Qua2V5cyhjZWxscyk7XG4gICAgICBjb25zdCByYW5kb21DZWxsTG9jID0gKCkgPT4ge1xuICAgICAgICBsZXQgY2VsbDtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnN0YW50LWNvbmRpdGlvblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2VsbExvY3MubGVuZ3RoKTtcbiAgICAgICAgICBjZWxsID0gSlNPTi5wYXJzZShgWyR7Y2VsbExvY3NbcmFuZG9tSW5kZXhdfV1gKTtcbiAgICAgICAgICBpZiAoY2VsbHNbY2VsbF0uc2hpcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNlbGxMb2NzLnNwbGljZShyYW5kb21JbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjZWxsO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IGZpbmRDZWxscyA9IChzaGlwTnVtKSA9PiB7XG4gICAgICAgIGxldCBzaGlwQ2VsbHMgPSBbcmFuZG9tQ2VsbExvYygpXTtcbiAgICAgICAgbGV0IGRpcnMgPSBbXCJ1cFwiLCBcImRvd25cIiwgXCJyaWdodFwiLCBcImxlZnRcIl07XG4gICAgICAgIGxldCBkaXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBkaXJzLmxlbmd0aCk7XG4gICAgICAgIHdoaWxlIChzaGlwQ2VsbHMubGVuZ3RoICE9PSBzaGlwTnVtKSB7XG4gICAgICAgICAgY29uc3QgbmV3Q2VsbCA9IGdldEFkamFjZW50Q2VsbChcbiAgICAgICAgICAgIHNoaXBDZWxsc1tzaGlwQ2VsbHMubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICBkaXJzW2Rpcl1cbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBjZWxsc1tuZXdDZWxsXSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICAgICAgY2VsbHNbbmV3Q2VsbF0uc2hpcCA9PT0gbnVsbFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2hpcENlbGxzLnB1c2gobmV3Q2VsbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNoaXBDZWxscyA9IHNoaXBDZWxscy5zbGljZSgwLCAxKTtcbiAgICAgICAgICAgIGRpcnMuc3BsaWNlKGRpciwgMSk7XG4gICAgICAgICAgICBpZiAoZGlycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgZGlycyA9IFtcInVwXCIsIFwiZG93blwiLCBcInJpZ2h0XCIsIFwibGVmdFwiXTtcbiAgICAgICAgICAgICAgc2hpcENlbGxzID0gW3JhbmRvbUNlbGxMb2MoKV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBkaXJzLmxlbmd0aCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaGlwQ2VsbHM7XG4gICAgICB9O1xuICAgICAgc2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgICAgICBwbGFjZShzaGlwLmxlbmd0aCwgLi4uZmluZENlbGxzKHNoaXAubGVuZ3RoKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjZWl2ZUF0dGFjayhsb2MpIHtcbiAgICAgIGxvYy5mb3JFYWNoKChudW0pID0+IHtcbiAgICAgICAgaWYgKG51bSA8IDAgfHwgbnVtID4gc2l6ZSAtIDEpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIkdpdmVuIGNlbGwgbG9jYXRpb24gaXMgaW52YWxpZFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBjZWxsID0gY2VsbHNbbG9jXTtcbiAgICAgIGNlbGwuc2hvdCA9IHRydWU7XG4gICAgICBpZiAoY2VsbC5zaGlwICE9PSBudWxsKSB7XG4gICAgICAgIHNoaXBzW2NlbGwuc2hpcCAtIDFdLmhpdCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gaGl0IGEgc2hpcCFcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTsgLy8gbWlzc2VkIVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZlYXRlZCgpIHtcbiAgICAgIHJldHVybiBzaGlwcy5yZWR1Y2UoKGZpbmFsLCBjdXJyZW50KSA9PiB7XG4gICAgICAgIGlmIChjdXJyZW50LmlzU3VuaygpID09PSBmYWxzZSkge1xuICAgICAgICAgIGZpbmFsID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbmFsO1xuICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaW5pdGlhdGUoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBpbml0aWF0ZSxcbiAgICAgIHBsYWNlLFxuICAgICAgcGxhY2VBdFJhbmRvbSxcbiAgICAgIHJlY2VpdmVBdHRhY2ssXG4gICAgICBnZXRBZGphY2VudENlbGwsXG4gICAgICBkZWZlYXRlZCxcbiAgICAgIHNoaXBzLFxuICAgICAgY2VsbHMsXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IEFJID0gKCgpID0+IHtcbiAgICBjb25zdCB2aXNpYmxlQ2VsbHMgPSBbXTtcbiAgICBjb25zdCBib2FyZCA9IEdhbWVib2FyZCgxMCk7XG4gICAgZnVuY3Rpb24gY3VycmVudEJvYXJkKCkge1xuICAgICAgcmV0dXJuIERhdGEuUGxheWVyLmJvYXJkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsb29rKGNlbGwpIHtcbiAgICAgIGlmICh2aXNpYmxlQ2VsbHMuaW5jbHVkZXMoSlNPTi5zdHJpbmdpZnkoY2VsbCkpKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50Qm9hcmQoKS5jZWxsc1tjZWxsXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgZXhwb3NlZFNoaXBzID0gW107XG5cbiAgICBjb25zdCBleHBvc2VkID0gKHNoaXApID0+IHtcbiAgICAgIGNvbnN0IGNlbGxzID0gW107IC8vIGhhcyB0byBiZSBzb3J0ZWQgKHVwIHRvIGRvd24pIG9yIChsZWZ0IHRvIHJpZ2h0KVxuICAgICAgY29uc3QgZGlyID0gW251bGxdO1xuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgICAgIGZ1bmN0aW9uIGRpcmVjdGlvbih0ZXh0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHJldHVybiBkaXJbMF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5lc3RlZC10ZXJuYXJ5XG4gICAgICAgIGRpclswXSA9IFtcInVwXCIsIFwiZG93blwiLCBcInZlcnRpY2FsXCJdLmluY2x1ZGVzKHRleHQpXG4gICAgICAgICAgPyBcInZlcnRpY2FsXCJcbiAgICAgICAgICA6IFtcImxlZnRcIiwgXCJyaWdodFwiLCBcImhvcml6b250YWxcIl0uaW5jbHVkZXModGV4dClcbiAgICAgICAgICA/IFwiaG9yaXpvbnRhbFwiXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gaXNTdW5rKCkge1xuICAgICAgICBpZiAoZGlyZWN0aW9uKCkgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlyZWN0aW9ucyA9XG4gICAgICAgICAgZGlyZWN0aW9uKCkgPT09IFwidmVydGljYWxcIiA/IFtcInVwXCIsIFwiZG93blwiXSA6IFtcImxlZnRcIiwgXCJyaWdodFwiXTtcbiAgICAgICAgY29uc3QgY2VsbEhlYWQgPSBsb29rKFxuICAgICAgICAgIGN1cnJlbnRCb2FyZCgpLmdldEFkamFjZW50Q2VsbChjZWxsc1swXSksXG4gICAgICAgICAgZGlyZWN0aW9uc1swXVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBjZWxsRW5kID0gbG9vayhcbiAgICAgICAgICBjdXJyZW50Qm9hcmQoKS5nZXRBZGphY2VudENlbGwoY2VsbHNbY2VsbHMubGVuZ3RoIC0gMV0sIGRpcmVjdGlvbnNbMV0pXG4gICAgICAgICk7XG4gICAgICAgIGlmIChjZWxsSGVhZCA9PT0gZmFsc2UgfHwgY2VsbEVuZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNlbGxzLFxuICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgIGlzU3VuayxcbiAgICAgICAgc2hpcCxcbiAgICAgIH07XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgdmlzaWJsZUNlbGxzLnNwbGljZSgwLCBJbmZpbml0eSk7XG4gICAgICBleHBvc2VkU2hpcHMuc3BsaWNlKDAsIEluZmluaXR5KTtcbiAgICAgIGJvYXJkLmluaXRpYXRlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGJvYXJkLFxuICAgICAgY3VycmVudEJvYXJkLFxuICAgICAgbG9vayxcbiAgICAgIHJlc2V0LFxuICAgICAgZXhwb3NlZCxcbiAgICAgIGV4cG9zZWRTaGlwcyxcbiAgICAgIHZpc2libGVDZWxscyxcbiAgICB9O1xuICB9KSgpO1xuXG4gIGNvbnN0IFBsYXllciA9ICgoKSA9PiB7XG4gICAgY29uc3QgYm9hcmQgPSBHYW1lYm9hcmQoMTApO1xuXG4gICAgcmV0dXJuIHsgYm9hcmQgfTtcbiAgfSkoKTtcblxuICByZXR1cm4geyBTaGlwLCBHYW1lYm9hcmQsIENlbGwsIEFJLCBQbGF5ZXIgfTtcbn0pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0geyBEYXRhIH07XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIiNhcmVuYVZpZXcge1xcbiAgLyogYmFja2dyb3VuZC1jb2xvcjogYXF1YTsgKi9cXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG8gYXV0byAxZnI7XFxuICBnYXA6IDFyZW07XFxuICBwYWRkaW5nOiAxcmVtO1xcbn1cXG5cXG4jdG9wQmFyIHtcXG4gIC8qIGJhY2tncm91bmQtY29sb3I6IHllbGxvdzsgKi9cXG5cXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IGF1dG8gYXV0bztcXG4gIHBsYWNlLWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGdhcDogMXJlbTtcXG59XFxuXFxuI2FyZW5hVmlldyAjdG9wQmFyIGJ1dHRvbiB7XFxuICBmb250LXNpemU6IDEuM3JlbTtcXG59XFxuXFxuI2FyZW5hIHtcXG4gIC8qIGJhY2tncm91bmQtY29sb3I6IGdyZWVuOyAqL1xcbiAgZGlzcGxheTogZ3JpZDtcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjtcXG4gIGdhcDogMXJlbTtcXG59XFxuXFxuI2FyZW5hID4gZGl2IHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBnYXA6IDFyZW07XFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IGF1dG8gYXV0bztcXG59XFxuXFxuI3BsYXllciA+IGRpdjpub3QoLnN0YXR1c0NvbnRhaW5lcikge1xcbiAganVzdGlmeS1zZWxmOiBlbmQ7XFxufVxcblxcbi5jb250cm9scyB7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvIGF1dG87XFxuICBwbGFjZS1jb250ZW50OiBjZW50ZXI7XFxuICBnYXA6IDFyZW07XFxufVxcblxcbi5jb250cm9scyBidXR0b24ge1xcbiAgZm9udC1zaXplOiAxcmVtO1xcbn1cXG5cXG4jYXJlbmEgLnN0YXR1c0NvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ2FwOiAwLjc1cmVtO1xcbn1cXG5cXG4jYXJlbmEgI3BsYXllciAuc3RhdHVzQ29udGFpbmVyIHtcXG4gIGp1c3RpZnktaXRlbXM6IHN0YXJ0O1xcbn1cXG5cXG4jYXJlbmEgI2NvbXB1dGVyIC5zdGF0dXNDb250YWluZXIge1xcbiAganVzdGlmeS1pdGVtczogZW5kO1xcbn1cXG5cXG4jYXJlbmEgLnN0YXR1c0NvbnRhaW5lciA+ICoge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICAtLXVuaXQ6IDFyZW07XFxuICBoZWlnaHQ6IHZhcigtLXVuaXQpO1xcbiAgd2lkdGg6IGNhbGModmFyKC0tdW5pdCkgKiB2YXIoLS1zaXplKSk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zdGF0dXMpO1xcbn1cXG5cXG4jYXJlbmEgPiBkaXYgPiBkaXYge1xcbiAgYWxpZ24tY29udGVudDogY2VudGVyO1xcbiAgZ2FwOiAxcmVtO1xcbn1cXG4jYXJlbmEgPiBkaXYgPiBkaXY6bm90KC5zdGF0dXNDb250YWluZXIpIHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuXFxuI2FyZW5hIGRpdjpub3QoLnN0YXR1c0NvbnRhaW5lcikgLm5hbWUge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbltkYXRhLXN0YWdlPVxcXCJCYXR0bGVcXFwiXSAubmFtZS5wbGF5aW5nOjphZnRlciB7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGFuaW1hdGlvbjogZG90LWRvdC1kb3QgM3MgaW5maW5pdGU7XFxufVxcblxcbkBrZXlmcmFtZXMgZG90LWRvdC1kb3Qge1xcbiAgMCUge1xcbiAgICBjb250ZW50OiBcXFwiLlxcXCI7XFxuICB9XFxuICAyNSUge1xcbiAgICBjb250ZW50OiBcXFwiLlxcXCI7XFxuICB9XFxuICA1MCUge1xcbiAgICBjb250ZW50OiBcXFwiLi5cXFwiO1xcbiAgfVxcbiAgMTAwJSB7XFxuICAgIGNvbnRlbnQ6IFxcXCIuLi5cXFwiO1xcbiAgfVxcbn1cXG5cXG4jYXJlbmEgZGl2Om5vdCguc3RhdHVzQ29udGFpbmVyKSAuYm9hcmQge1xcbiAgYm9yZGVyOiAwLjE1cmVtIHNvbGlkIGJsYWNrO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZGlzcGxheTogZ3JpZDtcXG4gIHBsYWNlLXNlbGY6IGNlbnRlcjtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWF4LXdpZHRoOiA1MHZoO1xcbiAgbWluLXdpZHRoOiAxNHJlbTtcXG5cXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAxMCUpO1xcbn1cXG5cXG4jYXJlbmEgZGl2Om5vdCguc3RhdHVzQ29udGFpbmVyKSAuYm9hcmQgPiAuY2VsbCB7XFxuICBwYWRkaW5nLWJvdHRvbTogMTAwJTtcXG4gIGJvcmRlcjogMC4xcmVtIHNvbGlkIHJnYmEoMTI4LCAxMjgsIDEyOCwgMC4zNDIpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc3RhdHVzKTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuW2RhdGEtc3RhZ2U9XFxcIlNldHVwXFxcIl0gI2FyZW5hICNwbGF5ZXIgLmNlbGwge1xcbiAgdG91Y2gtYWN0aW9uOiBub25lO1xcbn1cXG5cXG5bZGF0YS1zdGFnZT1cXFwiQmF0dGxlXFxcIl0gI2FyZW5hICNjb21wdXRlciAuYm9hcmQgLmNlbGw6aG92ZXI6OmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTtcXG4gIHRvcDogMCU7XFxuICBsZWZ0OiAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgb3V0bGluZTogMC4xNXJlbSBzb2xpZCByZ2IoMjU1LCAyNTUsIDI1NSk7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuXFxuOmlzKFtkYXRhLXN0YWdlPVxcXCJCYXR0bGVcXFwiXSwgW2RhdGEtc3RhZ2U9XFxcIkVuZFxcXCJdKSA6aXMoLmNvbnRyb2xzLCAjc3RhcnRCdG4pIHtcXG4gIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcXG59XFxuXFxuI2JvdHRvbUJhciB7XFxuICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7ICovXFxuICBkaXNwbGF5OiBncmlkO1xcbiAgcGxhY2UtY29udGVudDogY2VudGVyO1xcbn1cXG5cXG4jYm90dG9tQmFyIGJ1dHRvbiB7XFxuICBmb250LXNpemU6IDEuNzVyZW07XFxufVxcblxcbi5zdGF0dXMuc2VsZWN0ZWQge1xcbiAgb3V0bGluZTogMC4ycmVtIHNvbGlkIHJnYigwLCAxMTAsIDI1NSk7XFxufVxcblxcbi5zdGF0dXNbZGF0YS1zaXplPVxcXCI0XFxcIl0ge1xcbiAgLS1zaXplOiA0O1xcbn1cXG4uc3RhdHVzW2RhdGEtc2l6ZT1cXFwiM1xcXCJdIHtcXG4gIC0tc2l6ZTogMztcXG59XFxuLnN0YXR1c1tkYXRhLXNpemU9XFxcIjJcXFwiXSB7XFxuICAtLXNpemU6IDI7XFxufVxcbi5zdGF0dXNbZGF0YS1zaXplPVxcXCIxXFxcIl0ge1xcbiAgLS1zaXplOiAxO1xcbn1cXG4uc3RhdHVzW2RhdGEtc3RhdHVzPVxcXCJpbnRhY3RcXFwiXSB7XFxuICAtLXN0YXR1czogZ3JleTtcXG59XFxuLnN0YXR1c1tkYXRhLXN0YXR1cz1cXFwic3Vua1xcXCJdIHtcXG4gIC0tc3RhdHVzOiByZWQ7XFxufVxcblxcbi5jZWxsW2RhdGEtc3RhdHVzPVxcXCJob2xkXFxcIl0ge1xcbiAgLS1zdGF0dXM6IHdoaXRlO1xcbn1cXG5cXG4uY2VsbFtkYXRhLXN0YXR1cz1cXFwibWlzdFxcXCJdIHtcXG4gIC0tc3RhdHVzOiByZ2IoOTQsIDEyMiwgMTQxKTtcXG59XFxuLmNlbGxbZGF0YS1zdGF0dXM9XFxcIndhdGVyXFxcIl0ge1xcbiAgLS1zdGF0dXM6IHJnYigyMCwgOTUsIDE0NSk7XFxufVxcbi5jZWxsW2RhdGEtc3RhdHVzPVxcXCJzaGlwXFxcIl0ge1xcbiAgLS1zdGF0dXM6IHJnYig5NiwgMTAwLCAxMDIpO1xcbn1cXG4uY2VsbFtkYXRhLXN0YXR1cz1cXFwiaGl0XFxcIl0ge1xcbiAgLS1zdGF0dXM6IHJnYigzNywgMzQsIDM5KTtcXG59XFxuLmNlbGxbZGF0YS1zdGF0dXM9XFxcInN1bmtcXFwiXSB7XFxuICAtLXN0YXR1czogcmdiKDE0NSwgNDIsIDQyKTtcXG59XFxuXFxuQG1lZGlhIChtYXgtYXNwZWN0LXJhdGlvOiA2NS85Nikge1xcbiAgI2FyZW5hIHtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvO1xcbiAgfVxcbiAgI2FyZW5hID4gZGl2IHtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvIDFmcjtcXG4gIH1cXG4gICNhcmVuYSA+IGRpdiA+IGRpdiB7XFxuICAgIGdhcDogMC4zcmVtO1xcbiAgfVxcbiAgI2FyZW5hIGRpdjpub3QoLnN0YXR1c0NvbnRhaW5lcikgLmJvYXJkIHtcXG4gICAgbWF4LXdpZHRoOiA0MHZoO1xcbiAgfVxcbiAgI2NvbXB1dGVyID4gZGl2Om5vdCguc3RhdHVzQ29udGFpbmVyKSB7XFxuICAgIGdyaWQtYXJlYTogQjtcXG4gIH1cXG4gICNhcmVuYSAjY29tcHV0ZXIgLnN0YXR1c0NvbnRhaW5lciB7XFxuICAgIGdyaWQtYXJlYTogUztcXG4gICAganVzdGlmeS1pdGVtczogc3RhcnQ7XFxuICB9XFxuICAjY29tcHV0ZXIge1xcbiAgICBncmlkLXRlbXBsYXRlLWFyZWFzOiBcXFwiUyBCXFxcIjtcXG4gIH1cXG4gICNjb21wdXRlciAuY29udHJvbHMge1xcbiAgICBkaXNwbGF5OiBub25lO1xcbiAgfVxcbn1cXG5cXG5AbWVkaWEgKG1pbi1hc3BlY3QtcmF0aW86IDkxNi80MTApIHtcXG4gICNhcmVuYVZpZXcge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIC8qIGJhY2tncm91bmQtY29sb3I6IGFxdWE7ICovXFxuICB9XFxuICAjdG9wQmFyIHtcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICB0b3A6IDAuM3JlbTtcXG4gICAgbGVmdDogMC4zcmVtO1xcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IGF1dG87XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgfVxcbiAgI3RvcEJhciBidXR0b24ge1xcbiAgICBzY2FsZTogMCU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgfVxcbiAgI2hlbHBCdG4sXFxuICAjbmV3R2FtZUJ0biB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIH1cXG4gICNoZWxwQnRuIHtcXG4gICAgdG9wOiAxMDAlO1xcbiAgfVxcbiAgI25ld0dhbWVCdG4ge1xcbiAgICB0b3A6IDMwMCU7XFxuICAgIHdpZHRoOiBtYXgtY29udGVudDtcXG4gIH1cXG4gICN0b3BCYXI6OmJlZm9yZSB7XFxuICAgIGNvbnRlbnQ6IFxcXCJNRU5VIF5cXFwiO1xcbiAgfVxcbiAgI3RvcEJhcjpob3Zlcjo6YmVmb3JlIHtcXG4gICAgY29udGVudDogXFxcIk1FTlUgdlxcXCI7XFxuICB9XFxuICAjdG9wQmFyLm9wZW4gYnV0dG9uIHtcXG4gICAgc2NhbGU6IDEwMCU7XFxuICB9XFxuICAjYm90dG9tQmFyIHtcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICBib3R0b206IDAlO1xcbiAgICByaWdodDogMCU7XFxuICB9XFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZXMvYXJlbmFWaWV3LmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLDRCQUE0QjtFQUM1QixhQUFhO0VBQ2IsaUNBQWlDO0VBQ2pDLFNBQVM7RUFDVCxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSw4QkFBOEI7O0VBRTlCLGFBQWE7RUFDYixnQ0FBZ0M7RUFDaEMscUJBQXFCO0VBQ3JCLFNBQVM7QUFDWDs7QUFFQTtFQUNFLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLDZCQUE2QjtFQUM3QixhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLFNB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XG4gIC8qIGJhY2tncm91bmQtY29sb3I6IGFxdWE7ICovXFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIGF1dG8gMWZyO1xcbiAgZ2FwOiAxcmVtO1xcbiAgcGFkZGluZzogMXJlbTtcXG59XFxuXFxuI3RvcEJhciB7XFxuICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiB5ZWxsb3c7ICovXFxuXFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvIGF1dG87XFxuICBwbGFjZS1jb250ZW50OiBjZW50ZXI7XFxuICBnYXA6IDFyZW07XFxufVxcblxcbiNhcmVuYVZpZXcgI3RvcEJhciBidXR0b24ge1xcbiAgZm9udC1zaXplOiAxLjNyZW07XFxufVxcblxcbiNhcmVuYSB7XFxuICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjsgKi9cXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7XFxuICBnYXA6IDFyZW07XFxufVxcblxcbiNhcmVuYSA+IGRpdiB7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ2FwOiAxcmVtO1xcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvIGF1dG87XFxufVxcblxcbiNwbGF5ZXIgPiBkaXY6bm90KC5zdGF0dXNDb250YWluZXIpIHtcXG4gIGp1c3RpZnktc2VsZjogZW5kO1xcbn1cXG5cXG4uY29udHJvbHMge1xcbiAgZGlzcGxheTogZ3JpZDtcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0byBhdXRvO1xcbiAgcGxhY2UtY29udGVudDogY2VudGVyO1xcbiAgZ2FwOiAxcmVtO1xcbn1cXG5cXG4uY29udHJvbHMgYnV0dG9uIHtcXG4gIGZvbnQtc2l6ZTogMXJlbTtcXG59XFxuXFxuI2FyZW5hIC5zdGF0dXNDb250YWluZXIge1xcbiAgZGlzcGxheTogZ3JpZDtcXG4gIGdhcDogMC43NXJlbTtcXG59XFxuXFxuI2FyZW5hICNwbGF5ZXIgLnN0YXR1c0NvbnRhaW5lciB7XFxuICBqdXN0aWZ5LWl0ZW1zOiBzdGFydDtcXG59XFxuXFxuI2FyZW5hICNjb21wdXRlciAuc3RhdHVzQ29udGFpbmVyIHtcXG4gIGp1c3RpZnktaXRlbXM6IGVuZDtcXG59XFxuXFxuI2FyZW5hIC5zdGF0dXNDb250YWluZXIgPiAqIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgLS11bml0OiAxcmVtO1xcbiAgaGVpZ2h0OiB2YXIoLS11bml0KTtcXG4gIHdpZHRoOiBjYWxjKHZhcigtLXVuaXQpICogdmFyKC0tc2l6ZSkpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tc3RhdHVzKTtcXG59XFxuXFxuI2FyZW5hID4gZGl2ID4gZGl2IHtcXG4gIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGdhcDogMXJlbTtcXG59XFxuI2FyZW5hID4gZGl2ID4gZGl2Om5vdCguc3RhdHVzQ29udGFpbmVyKSB7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcblxcbiNhcmVuYSBkaXY6bm90KC5zdGF0dXNDb250YWluZXIpIC5uYW1lIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG5bZGF0YS1zdGFnZT1cXFwiQmF0dGxlXFxcIl0gLm5hbWUucGxheWluZzo6YWZ0ZXIge1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBhbmltYXRpb246IGRvdC1kb3QtZG90IDNzIGluZmluaXRlO1xcbn1cXG5cXG5Aa2V5ZnJhbWVzIGRvdC1kb3QtZG90IHtcXG4gIDAlIHtcXG4gICAgY29udGVudDogXFxcIi5cXFwiO1xcbiAgfVxcbiAgMjUlIHtcXG4gICAgY29udGVudDogXFxcIi5cXFwiO1xcbiAgfVxcbiAgNTAlIHtcXG4gICAgY29udGVudDogXFxcIi4uXFxcIjtcXG4gIH1cXG4gIDEwMCUge1xcbiAgICBjb250ZW50OiBcXFwiLi4uXFxcIjtcXG4gIH1cXG59XFxuXFxuI2FyZW5hIGRpdjpub3QoLnN0YXR1c0NvbnRhaW5lcikgLmJvYXJkIHtcXG4gIGJvcmRlcjogMC4xNXJlbSBzb2xpZCBibGFjaztcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBwbGFjZS1zZWxmOiBjZW50ZXI7XFxuICB3aWR0aDogMTAwJTtcXG4gIG1heC13aWR0aDogNTB2aDtcXG4gIG1pbi13aWR0aDogMTRyZW07XFxuXFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgMTAlKTtcXG59XFxuXFxuI2FyZW5hIGRpdjpub3QoLnN0YXR1c0NvbnRhaW5lcikgLmJvYXJkID4gLmNlbGwge1xcbiAgcGFkZGluZy1ib3R0b206IDEwMCU7XFxuICBib3JkZXI6IDAuMXJlbSBzb2xpZCByZ2JhKDEyOCwgMTI4LCAxMjgsIDAuMzQyKTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXN0YXR1cyk7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbltkYXRhLXN0YWdlPVxcXCJTZXR1cFxcXCJdICNhcmVuYSAjcGxheWVyIC5jZWxsIHtcXG4gIHRvdWNoLWFjdGlvbjogbm9uZTtcXG59XFxuXFxuW2RhdGEtc3RhZ2U9XFxcIkJhdHRsZVxcXCJdICNhcmVuYSAjY29tcHV0ZXIgLmJvYXJkIC5jZWxsOmhvdmVyOjphZnRlciB7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDE7XFxuICB0b3A6IDAlO1xcbiAgbGVmdDogMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB3aWR0aDogMTAwJTtcXG4gIG91dGxpbmU6IDAuMTVyZW0gc29saWQgcmdiKDI1NSwgMjU1LCAyNTUpO1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxufVxcblxcbjppcyhbZGF0YS1zdGFnZT1cXFwiQmF0dGxlXFxcIl0sIFtkYXRhLXN0YWdlPVxcXCJFbmRcXFwiXSkgOmlzKC5jb250cm9scywgI3N0YXJ0QnRuKSB7XFxuICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XFxufVxcblxcbiNib3R0b21CYXIge1xcbiAgLyogYmFja2dyb3VuZC1jb2xvcjogcmVkOyAqL1xcbiAgZGlzcGxheTogZ3JpZDtcXG4gIHBsYWNlLWNvbnRlbnQ6IGNlbnRlcjtcXG59XFxuXFxuI2JvdHRvbUJhciBidXR0b24ge1xcbiAgZm9udC1zaXplOiAxLjc1cmVtO1xcbn1cXG5cXG4uc3RhdHVzLnNlbGVjdGVkIHtcXG4gIG91dGxpbmU6IDAuMnJlbSBzb2xpZCByZ2IoMCwgMTEwLCAyNTUpO1xcbn1cXG5cXG4uc3RhdHVzW2RhdGEtc2l6ZT1cXFwiNFxcXCJdIHtcXG4gIC0tc2l6ZTogNDtcXG59XFxuLnN0YXR1c1tkYXRhLXNpemU9XFxcIjNcXFwiXSB7XFxuICAtLXNpemU6IDM7XFxufVxcbi5zdGF0dXNbZGF0YS1zaXplPVxcXCIyXFxcIl0ge1xcbiAgLS1zaXplOiAyO1xcbn1cXG4uc3RhdHVzW2RhdGEtc2l6ZT1cXFwiMVxcXCJdIHtcXG4gIC0tc2l6ZTogMTtcXG59XFxuLnN0YXR1c1tkYXRhLXN0YXR1cz1cXFwiaW50YWN0XFxcIl0ge1xcbiAgLS1zdGF0dXM6IGdyZXk7XFxufVxcbi5zdGF0dXNbZGF0YS1zdGF0dXM9XFxcInN1bmtcXFwiXSB7XFxuICAtLXN0YXR1czogcmVkO1xcbn1cXG5cXG4uY2VsbFtkYXRhLXN0YXR1cz1cXFwiaG9sZFxcXCJdIHtcXG4gIC0tc3RhdHVzOiB3aGl0ZTtcXG59XFxuXFxuLmNlbGxbZGF0YS1zdGF0dXM9XFxcIm1pc3RcXFwiXSB7XFxuICAtLXN0YXR1czogcmdiKDk0LCAxMjIsIDE0MSk7XFxufVxcbi5jZWxsW2RhdGEtc3RhdHVzPVxcXCJ3YXRlclxcXCJdIHtcXG4gIC0tc3RhdHVzOiByZ2IoMjAsIDk1LCAxNDUpO1xcbn1cXG4uY2VsbFtkYXRhLXN0YXR1cz1cXFwic2hpcFxcXCJdIHtcXG4gIC0tc3RhdHVzOiByZ2IoOTYsIDEwMCwgMTAyKTtcXG59XFxuLmNlbGxbZGF0YS1zdGF0dXM9XFxcImhpdFxcXCJdIHtcXG4gIC0tc3RhdHVzOiByZ2IoMzcsIDM0LCAzOSk7XFxufVxcbi5jZWxsW2RhdGEtc3RhdHVzPVxcXCJzdW5rXFxcIl0ge1xcbiAgLS1zdGF0dXM6IHJnYigxNDUsIDQyLCA0Mik7XFxufVxcblxcbkBtZWRpYSAobWF4LWFzcGVjdC1yYXRpbzogNjUvOTYpIHtcXG4gICNhcmVuYSB7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0bztcXG4gIH1cXG4gICNhcmVuYSA+IGRpdiB7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0byAxZnI7XFxuICB9XFxuICAjYXJlbmEgPiBkaXYgPiBkaXYge1xcbiAgICBnYXA6IDAuM3JlbTtcXG4gIH1cXG4gICNhcmVuYSBkaXY6bm90KC5zdGF0dXNDb250YWluZXIpIC5ib2FyZCB7XFxuICAgIG1heC13aWR0aDogNDB2aDtcXG4gIH1cXG4gICNjb21wdXRlciA+IGRpdjpub3QoLnN0YXR1c0NvbnRhaW5lcikge1xcbiAgICBncmlkLWFyZWE6IEI7XFxuICB9XFxuICAjYXJlbmEgI2NvbXB1dGVyIC5zdGF0dXNDb250YWluZXIge1xcbiAgICBncmlkLWFyZWE6IFM7XFxuICAgIGp1c3RpZnktaXRlbXM6IHN0YXJ0O1xcbiAgfVxcbiAgI2NvbXB1dGVyIHtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1hcmVhczogXFxcIlMgQlxcXCI7XFxuICB9XFxuICAjY29tcHV0ZXIgLmNvbnRyb2xzIHtcXG4gICAgZGlzcGxheTogbm9uZTtcXG4gIH1cXG59XFxuXFxuQG1lZGlhIChtaW4tYXNwZWN0LXJhdGlvOiA5MTYvNDEwKSB7XFxuICAjYXJlbmFWaWV3IHtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiBhcXVhOyAqL1xcbiAgfVxcbiAgI3RvcEJhciB7XFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgdG9wOiAwLjNyZW07XFxuICAgIGxlZnQ6IDAuM3JlbTtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gIH1cXG4gICN0b3BCYXIgYnV0dG9uIHtcXG4gICAgc2NhbGU6IDAlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gIH1cXG4gICNoZWxwQnRuLFxcbiAgI25ld0dhbWVCdG4ge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB9XFxuICAjaGVscEJ0biB7XFxuICAgIHRvcDogMTAwJTtcXG4gIH1cXG4gICNuZXdHYW1lQnRuIHtcXG4gICAgdG9wOiAzMDAlO1xcbiAgICB3aWR0aDogbWF4LWNvbnRlbnQ7XFxuICB9XFxuICAjdG9wQmFyOjpiZWZvcmUge1xcbiAgICBjb250ZW50OiBcXFwiTUVOVSBeXFxcIjtcXG4gIH1cXG4gICN0b3BCYXI6aG92ZXI6OmJlZm9yZSB7XFxuICAgIGNvbnRlbnQ6IFxcXCJNRU5VIHZcXFwiO1xcbiAgfVxcbiAgI3RvcEJhci5vcGVuIGJ1dHRvbiB7XFxuICAgIHNjYWxlOiAxMDAlO1xcbiAgfVxcbiAgI2JvdHRvbUJhciB7XFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgYm90dG9tOiAwJTtcXG4gICAgcmlnaHQ6IDAlO1xcbiAgfVxcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIjZW5kVmlldyB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB3aWR0aDogMTAwJTtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBwbGFjZS1jb250ZW50OiBjZW50ZXI7XFxufVxcblxcbiNlbmRDYXJkIHtcXG4gIGJvcmRlcjogMC4xZW0gc29saWQgYmxhY2s7XFxuICBib3JkZXItcmFkaXVzOiAxZW07XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gIHBhZGRpbmc6IDFlbTtcXG4gIG1pbi1oZWlnaHQ6IDIwdmg7XFxuICBtaW4td2lkdGg6IDUwdnc7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgcGxhY2UtY29udGVudDogY2VudGVyO1xcblxcbiAgZm9udC1zaXplOiAzcmVtO1xcbn1cXG5cXG4jZW5kTXNnIHtcXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlcy9lbmRWaWV3LmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLGVBQWU7RUFDZixZQUFZO0VBQ1osV0FBVztFQUNYLGFBQWE7RUFDYixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsa0JBQWtCO0VBQ2xCLHVCQUF1QjtFQUN2QixZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixhQUFhO0VBQ2IscUJBQXFCOztFQUVyQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIiNlbmRWaWV3IHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgZGlzcGxheTogZ3JpZDtcXG4gIHBsYWNlLWNvbnRlbnQ6IGNlbnRlcjtcXG59XFxuXFxuI2VuZENhcmQge1xcbiAgYm9yZGVyOiAwLjFlbSBzb2xpZCBibGFjaztcXG4gIGJvcmRlci1yYWRpdXM6IDFlbTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgcGFkZGluZzogMWVtO1xcbiAgbWluLWhlaWdodDogMjB2aDtcXG4gIG1pbi13aWR0aDogNTB2dztcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBwbGFjZS1jb250ZW50OiBjZW50ZXI7XFxuXFxuICBmb250LXNpemU6IDNyZW07XFxufVxcblxcbiNlbmRNc2cge1xcbiAgZm9udC1zaXplOiBpbmhlcml0O1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIjaGVscFZpZXcge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBwYWRkaW5nOiAxMHZoIDEwdnc7XFxuICBvdmVyZmxvdzogYXV0bztcXG59XFxuXFxuI2hlbHBDb250ZW50IHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgYm9yZGVyOiAwLjE1cmVtIHNvbGlkIGJsYWNrO1xcbiAgYm9yZGVyLXJhZGl1czogMXJlbTtcXG4gIHBhZGRpbmc6IDJyZW07XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ2FwOiAxZW07XFxuICBmb250LXNpemU6IDEuM3JlbTtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlcy9oZWxwVmlldy5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRSxlQUFlO0VBQ2YsWUFBWTtFQUNaLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLHVCQUF1QjtFQUN2QiwyQkFBMkI7RUFDM0IsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYixhQUFhO0VBQ2IsUUFBUTtFQUNSLGlCQUFpQjtBQUNuQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIjaGVscFZpZXcge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBwYWRkaW5nOiAxMHZoIDEwdnc7XFxuICBvdmVyZmxvdzogYXV0bztcXG59XFxuXFxuI2hlbHBDb250ZW50IHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgYm9yZGVyOiAwLjE1cmVtIHNvbGlkIGJsYWNrO1xcbiAgYm9yZGVyLXJhZGl1czogMXJlbTtcXG4gIHBhZGRpbmc6IDJyZW07XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ2FwOiAxZW07XFxuICBmb250LXNpemU6IDEuM3JlbTtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiKiB7XFxuICBmb250LWZhbWlseTogXFxcIlJvYm90b1xcXCIsIHNhbnMtc2VyaWY7XFxuICBtYXJnaW46IDAlO1xcbiAgcGFkZGluZzogMCU7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG5odG1sLFxcbmJvZHkge1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG4gIHdpZHRoOiAxMDB2dztcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5kaXNhcHBlYXIge1xcbiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xcbn1cXG5cXG4uaGlkZSB7XFxuICBvcGFjaXR5OiAwJSAhaW1wb3J0YW50O1xcbn1cXG5cXG5idXR0b24ge1xcbiAgLS1jb2w6IGJsYWNrO1xcbiAgY29sb3I6IHZhcigtLWNvbCk7XFxuICBmb250LXNpemU6IDEuNXJlbTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyOiBub25lO1xcbiAgcGFkZGluZzogMC4zcmVtIDFyZW07XFxuICBib3JkZXI6IDAuMWVtIHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXJhZGl1czogMC4zcmVtO1xcbiAgdHJhbnNpdGlvbjogMTAwbXM7XFxufVxcblxcbmJ1dHRvbjpob3ZlciB7XFxuICBib3JkZXItY29sb3I6IHZhcigtLWNvbCk7XFxufVxcblxcbmJ1dHRvbjphY3RpdmUge1xcbiAgY29sb3I6IHJnYig3MCwgNjQsIDY0KTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigyMTQsIDE3NiwgNTIpO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGVzL21haW4uY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UsaUNBQWlDO0VBQ2pDLFVBQVU7RUFDVixXQUFXO0VBQ1gsc0JBQXNCO0FBQ3hCOztBQUVBOztFQUVFLGFBQWE7RUFDYixZQUFZO0VBQ1osYUFBYTtFQUNiLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLHdCQUF3QjtBQUMxQjs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLFlBQVk7RUFDWixpQkFBaUI7RUFDakIsaUJBQWlCO0VBQ2pCLDZCQUE2QjtFQUM3QixZQUFZO0VBQ1osb0JBQW9CO0VBQ3BCLCtCQUErQjtFQUMvQixxQkFBcUI7RUFDckIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0Usd0JBQXdCO0FBQzFCOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLG1DQUFtQztBQUNyQ1wiLFwic291cmNlc0NvbnRlbnRcIjpbXCIqIHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiUm9ib3RvXFxcIiwgc2Fucy1zZXJpZjtcXG4gIG1hcmdpbjogMCU7XFxuICBwYWRkaW5nOiAwJTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbmh0bWwsXFxuYm9keSB7XFxuICBoZWlnaHQ6IDEwMHZoO1xcbiAgd2lkdGg6IDEwMHZ3O1xcbiAgZGlzcGxheTogZ3JpZDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLmRpc2FwcGVhciB7XFxuICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XFxufVxcblxcbi5oaWRlIHtcXG4gIG9wYWNpdHk6IDAlICFpbXBvcnRhbnQ7XFxufVxcblxcbmJ1dHRvbiB7XFxuICAtLWNvbDogYmxhY2s7XFxuICBjb2xvcjogdmFyKC0tY29sKTtcXG4gIGZvbnQtc2l6ZTogMS41cmVtO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBib3JkZXI6IG5vbmU7XFxuICBwYWRkaW5nOiAwLjNyZW0gMXJlbTtcXG4gIGJvcmRlcjogMC4xZW0gc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmFkaXVzOiAwLjNyZW07XFxuICB0cmFuc2l0aW9uOiAxMDBtcztcXG59XFxuXFxuYnV0dG9uOmhvdmVyIHtcXG4gIGJvcmRlci1jb2xvcjogdmFyKC0tY29sKTtcXG59XFxuXFxuYnV0dG9uOmFjdGl2ZSB7XFxuICBjb2xvcjogcmdiKDcwLCA2NCwgNjQpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIxNCwgMTc2LCA1Mik7XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTtcblxuICAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTtcblxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCBcIlwiKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcblxuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG5cbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG5cbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cblxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG5cbiAgY3NzICs9IG9iai5jc3M7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tYWluLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbi5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vYXJlbmFWaWV3LmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vYXJlbmFWaWV3LmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9oZWxwVmlldy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2hlbHBWaWV3LmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9lbmRWaWV3LmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vZW5kVmlldy5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCBtYWluU3R5bGVzIGZyb20gXCIuLy4uL3N0eWxlcy9tYWluLmNzc1wiO1xuaW1wb3J0IGFyZW5hVmlld1N0eWxlcyBmcm9tIFwiLi8uLi9zdHlsZXMvYXJlbmFWaWV3LmNzc1wiO1xuaW1wb3J0IGhlbHBWaWV3U3R5bGVzIGZyb20gXCIuLy4uL3N0eWxlcy9oZWxwVmlldy5jc3NcIjtcbmltcG9ydCBlbmRWaWV3U3R5bGVzIGZyb20gXCIuLy4uL3N0eWxlcy9lbmRWaWV3LmNzc1wiO1xuaW1wb3J0IHsgRGF0YSB9IGZyb20gXCIuL2RhdGFcIjtcbi8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi9cblxubGV0IHN0YWdlID0gbnVsbDsgLy8gbnVsbCB8fCBcIlNldHVwXCIgfHwgXCJCYXR0bGVcIiB8fCBcIkVuZFwiXG5cbmNvbnN0IFVJID0gKCgpID0+IHtcbiAgY29uc3QgZWxlbSA9IHtcbiAgICByb290OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiOnJvb3RcIiksXG4gICAgYm9hcmQ6IHtcbiAgICAgIHBsYXllcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhcmVuYVZpZXcgI3BsYXllciAuYm9hcmRcIiksXG4gICAgICBjb21wdXRlcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhcmVuYVZpZXcgI2NvbXB1dGVyIC5ib2FyZFwiKSxcbiAgICB9LFxuICAgIGJ0bjoge1xuICAgICAgaGVscDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNoZWxwQnRuXCIpLFxuICAgICAgbmV3R2FtZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXdHYW1lQnRuXCIpLFxuICAgICAgcmFuZG9taXplOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3JhbmRvbWl6ZUJ0blwiKSxcbiAgICAgIHJlc2V0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Jlc2V0QnRuXCIpLFxuICAgICAgc3RhcnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3RhcnRCdG5cIiksXG4gICAgfSxcbiAgICB2aWV3OiB7XG4gICAgICBhcmVuYTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhcmVuYVZpZXdcIiksXG4gICAgICBoZWxwOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2hlbHBWaWV3XCIpLFxuICAgICAgZW5kOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VuZFZpZXdcIiksXG4gICAgfSxcbiAgICBzaGlwU3RhdHVzOiB7XG4gICAgICBwbGF5ZXI6IFtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhcmVuYSAjcGxheWVyIC5zdGF0dXNbZGF0YS1zaXplPScxJ11cIiksXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXJlbmEgI3BsYXllciAuc3RhdHVzW2RhdGEtc2l6ZT0nMiddXCIpLFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FyZW5hICNwbGF5ZXIgLnN0YXR1c1tkYXRhLXNpemU9JzMnXVwiKSxcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhcmVuYSAjcGxheWVyIC5zdGF0dXNbZGF0YS1zaXplPSc0J11cIiksXG4gICAgICBdLFxuICAgICAgY29tcHV0ZXI6IFtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhcmVuYSAjY29tcHV0ZXIgLnN0YXR1c1tkYXRhLXNpemU9JzEnXVwiKSxcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhcmVuYSAjY29tcHV0ZXIgLnN0YXR1c1tkYXRhLXNpemU9JzInXVwiKSxcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhcmVuYSAjY29tcHV0ZXIgLnN0YXR1c1tkYXRhLXNpemU9JzMnXVwiKSxcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhcmVuYSAjY29tcHV0ZXIgLnN0YXR1c1tkYXRhLXNpemU9JzQnXVwiKSxcbiAgICAgIF0sXG4gICAgfSxcbiAgICBuYW1lOiB7XG4gICAgICBwbGF5ZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXJlbmEgI3BsYXllciAubmFtZVwiKSxcbiAgICAgIGNvbXB1dGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FyZW5hICNjb21wdXRlciAubmFtZVwiKSxcbiAgICB9LFxuICAgIHRvcEJhcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhcmVuYVZpZXcgI3RvcEJhclwiKSxcbiAgICBlbmRNc2c6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZW5kVmlldyAjZW5kTXNnXCIpLFxuICAgIGdldENlbGw6IChib2FyZE5hbWUsIGxvYykgPT5cbiAgICAgIC8vIGxvYyAtPiBcIngseVwiXG4gICAgICBlbGVtLmJvYXJkW2JvYXJkTmFtZV0ucXVlcnlTZWxlY3RvcihgLmNlbGxbZGF0YS1sb2M9XCIke2xvY31cIl1gKSxcbiAgfTtcblxuICBsZXQgc2VsZWN0ZWRTaGlwID0gbnVsbDtcbiAgbGV0IHNlbGVjdGVkU2hpcE9yaWVudGF0aW9uID0gXCJob3Jpem9udGFsXCI7XG4gIGNvbnN0IGhlbGRDZWxscyA9IFtdO1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlQm9hcmQoYm9hcmRFbGVtLCBib2FyZERhdGEpIHtcbiAgICBPYmplY3Qua2V5cyhib2FyZERhdGEuY2VsbHMpLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY2VsbFwiKTtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1sb2NcIiwgY2VsbCk7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtc3RhdHVzXCIsIFwiXCIpO1xuICAgICAgYm9hcmRFbGVtLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaG9sZFNoaXAoYm9hcmROYW1lLCBsb2MpIHtcbiAgICBmdW5jdGlvbiBjaGVja0xvYyhjb29yZCkge1xuICAgICAgaWYgKGNvb3JkID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb29yZCA9IEpTT04ucGFyc2UoYFske2Nvb3JkfV1gKTtcbiAgICAgIGxldCByZXN1bHQgPSB0cnVlO1xuICAgICAgY29vcmQuZm9yRWFjaCgobnVtKSA9PiB7XG4gICAgICAgIGlmIChudW0gPiA5IHx8IG51bSA8IDApIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBkaXJlY3Rpb25zID1cbiAgICAgIHNlbGVjdGVkU2hpcE9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIlxuICAgICAgICA/IFtcImxlZnRcIiwgXCJyaWdodFwiXVxuICAgICAgICA6IFtcInVwXCIsIFwiZG93blwiXTtcbiAgICBsZXQgbGVuZ3RoID0gc2VsZWN0ZWRTaGlwIC0gMTtcblxuICAgIGZvciAobGV0IGkgPSBoZWxkQ2VsbHMubGVuZ3RoOyBpID4gMDsgaS0tKSB7XG4gICAgICBjb25zdCBjZWxsID0gaGVsZENlbGxzLnBvcCgpO1xuICAgICAgaWYgKGNlbGxbMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1zdGF0dXNcIikgPT09IFwiaG9sZFwiKSB7XG4gICAgICAgIGNlbGxbMF0uc2V0QXR0cmlidXRlKFwiZGF0YS1zdGF0dXNcIiwgY2VsbFsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGN1cnJlbnRDZWxsID0gZWxlbS5nZXRDZWxsKGJvYXJkTmFtZSwgbG9jKTtcbiAgICBoZWxkQ2VsbHMucHVzaChbY3VycmVudENlbGwsIGN1cnJlbnRDZWxsLmdldEF0dHJpYnV0ZShcImRhdGEtc3RhdHVzXCIpXSk7XG4gICAgY3VycmVudENlbGwuc2V0QXR0cmlidXRlKFwiZGF0YS1zdGF0dXNcIiwgXCJob2xkXCIpO1xuXG4gICAgY29uc3QgdGVtcExvY3MgPSBbbG9jLCBsb2NdO1xuXG4gICAgd2hpbGUgKGxlbmd0aCA+IDApIHtcbiAgICAgIGlmICh0ZW1wTG9jc1swXSAhPT0gbnVsbCkge1xuICAgICAgICB0ZW1wTG9jc1swXSA9IERhdGFbXG4gICAgICAgICAgYm9hcmROYW1lID09PSBcInBsYXllclwiID8gXCJQbGF5ZXJcIiA6IFwiQUlcIlxuICAgICAgICBdLmJvYXJkLmdldEFkamFjZW50Q2VsbCh0ZW1wTG9jc1swXSwgZGlyZWN0aW9uc1swXSk7XG4gICAgICB9XG4gICAgICBpZiAoY2hlY2tMb2ModGVtcExvY3NbMF0pID09PSBmYWxzZSkge1xuICAgICAgICB0ZW1wTG9jc1swXSA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAodGVtcExvY3NbMF0gIT09IG51bGwpIHtcbiAgICAgICAgY3VycmVudENlbGwgPSBlbGVtLmdldENlbGwoYm9hcmROYW1lLCB0ZW1wTG9jc1swXSk7XG4gICAgICAgIGhlbGRDZWxscy51bnNoaWZ0KFtcbiAgICAgICAgICBjdXJyZW50Q2VsbCxcbiAgICAgICAgICBjdXJyZW50Q2VsbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN0YXR1c1wiKSxcbiAgICAgICAgXSk7XG4gICAgICAgIGN1cnJlbnRDZWxsLnNldEF0dHJpYnV0ZShcImRhdGEtc3RhdHVzXCIsIFwiaG9sZFwiKTtcbiAgICAgICAgbGVuZ3RoIC09IDE7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAodGVtcExvY3NbMV0gIT09IG51bGwpIHtcbiAgICAgICAgICB0ZW1wTG9jc1sxXSA9IERhdGFbXG4gICAgICAgICAgICBib2FyZE5hbWUgPT09IFwicGxheWVyXCIgPyBcIlBsYXllclwiIDogXCJBSVwiXG4gICAgICAgICAgXS5ib2FyZC5nZXRBZGphY2VudENlbGwodGVtcExvY3NbMV0sIGRpcmVjdGlvbnNbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGVja0xvYyh0ZW1wTG9jc1sxXSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgdGVtcExvY3NbMV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZW1wTG9jc1sxXSAhPT0gbnVsbCkge1xuICAgICAgICAgIGN1cnJlbnRDZWxsID0gZWxlbS5nZXRDZWxsKGJvYXJkTmFtZSwgdGVtcExvY3NbMV0pO1xuICAgICAgICAgIGhlbGRDZWxscy5wdXNoKFtcbiAgICAgICAgICAgIGN1cnJlbnRDZWxsLFxuICAgICAgICAgICAgY3VycmVudENlbGwuZ2V0QXR0cmlidXRlKFwiZGF0YS1zdGF0dXNcIiksXG4gICAgICAgICAgXSk7XG4gICAgICAgICAgY3VycmVudENlbGwuc2V0QXR0cmlidXRlKFwiZGF0YS1zdGF0dXNcIiwgXCJob2xkXCIpO1xuICAgICAgICAgIGxlbmd0aCAtPSAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGxhY2VIZWxkQ2VsbHMoKSB7XG4gICAgY29uc3Qgc2hpcENlbGxMb2NzID0gaGVsZENlbGxzLnJlZHVjZSgoZmluYWwsIGN1cnJlbnQpID0+IHtcbiAgICAgIGZpbmFsLnB1c2goSlNPTi5wYXJzZShgWyR7Y3VycmVudFswXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWxvY1wiKX1dYCkpO1xuICAgICAgcmV0dXJuIGZpbmFsO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBvbGRDZWxscyA9IERhdGEuUGxheWVyLmJvYXJkLnNoaXBzW3NlbGVjdGVkU2hpcCAtIDFdLmNlbGxzLnNsaWNlKDApO1xuICAgIGNvbnN0IHBsYWNlZCA9IEVuZ2luZS5QbGF5ZXIucGxhY2Uoc2VsZWN0ZWRTaGlwLCBzaGlwQ2VsbExvY3MpO1xuICAgIGlmIChwbGFjZWQpIHtcbiAgICAgIHJlZnJlc2hDZWxscyhcInBsYXllclwiLCAuLi5vbGRDZWxscyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWRkQ2VsbEV2ZW50cyhjZWxsRWxlbSkge1xuICAgIGNlbGxFbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4ge1xuICAgICAgaWYgKHN0YWdlID09PSBcIlNldHVwXCIgJiYgc2VsZWN0ZWRTaGlwICE9PSBudWxsKSB7XG4gICAgICAgIGhvbGRTaGlwKFxuICAgICAgICAgIGVsZW0uYm9hcmQucGxheWVyLmNvbnRhaW5zKGNlbGxFbGVtKSA/IFwicGxheWVyXCIgOiBcImNvbXB1dGVyXCIsXG4gICAgICAgICAgY2VsbEVsZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1sb2NcIilcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgICBjZWxsRWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoc3RhZ2UgPT09IFwiU2V0dXBcIiAmJiBzZWxlY3RlZFNoaXAgIT09IG51bGwpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgc2VsZWN0ZWRTaGlwT3JpZW50YXRpb24gPVxuICAgICAgICAgIHNlbGVjdGVkU2hpcE9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiA/IFwidmVydGljYWxcIiA6IFwiaG9yaXpvbnRhbFwiO1xuICAgICAgICBob2xkU2hpcChcbiAgICAgICAgICBlbGVtLmJvYXJkLnBsYXllci5jb250YWlucyhjZWxsRWxlbSkgPyBcInBsYXllclwiIDogXCJjb21wdXRlclwiLFxuICAgICAgICAgIGNlbGxFbGVtLmdldEF0dHJpYnV0ZShcImRhdGEtbG9jXCIpXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjZWxsRWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaWYgKHN0YWdlID09PSBcIlNldHVwXCIgJiYgc2VsZWN0ZWRTaGlwICE9PSBudWxsKSB7XG4gICAgICAgIHBsYWNlSGVsZENlbGxzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWZyZXNoQ2VsbHMoYm9hcmROYW1lLCAuLi5jZWxsTG9jcykge1xuICAgIGNlbGxMb2NzLmZvckVhY2goKGxvYykgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBsb2MgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgbG9jID0gSlNPTi5wYXJzZShgWyR7bG9jfV1gKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJvYXJkRGF0YSA9IERhdGFbYm9hcmROYW1lID09PSBcInBsYXllclwiID8gXCJQbGF5ZXJcIiA6IFwiQUlcIl0uYm9hcmQ7XG4gICAgICBjb25zdCBjZWxsID0gYm9hcmREYXRhLmNlbGxzW2xvY107XG4gICAgICBsZXQgc3RhdHVzO1xuICAgICAgaWYgKGJvYXJkTmFtZSA9PT0gXCJwbGF5ZXJcIikge1xuICAgICAgICBzd2l0Y2ggKHN0YWdlKSB7XG4gICAgICAgICAgY2FzZSBcIlNldHVwXCI6XG4gICAgICAgICAgICBzdGF0dXMgPSBcIndhdGVyXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiQmF0dGxlXCI6XG4gICAgICAgICAgICBzdGF0dXMgPSBcIm1pc3RcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJFbmRcIjpcbiAgICAgICAgICAgIHN0YXR1cyA9IFwibWlzdFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IEVycm9yKGBVbmV4cGVjdGVkIHN0YWdlIHZhbHVlOiAke3N0YWdlfWApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0dXMgPSBcIm1pc3RcIjtcbiAgICAgIH1cbiAgICAgIGlmIChjZWxsLnNoaXAgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKGJvYXJkRGF0YS5zaGlwc1tjZWxsLnNoaXAgLSAxXS5pc1N1bmsoKSkge1xuICAgICAgICAgIHN0YXR1cyA9IFwic3Vua1wiO1xuICAgICAgICB9IGVsc2UgaWYgKGNlbGwuc2hvdCkge1xuICAgICAgICAgIHN0YXR1cyA9IFwiaGl0XCI7XG4gICAgICAgIH0gZWxzZSBpZiAoYm9hcmROYW1lID09PSBcInBsYXllclwiIHx8IHN0YWdlID09PSBcIkVuZFwiKSB7XG4gICAgICAgICAgc3RhdHVzID0gXCJzaGlwXCI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2VsbC5zaG90KSB7XG4gICAgICAgIHN0YXR1cyA9IFwid2F0ZXJcIjtcbiAgICAgIH1cbiAgICAgIGVsZW1cbiAgICAgICAgLmdldENlbGwoYm9hcmROYW1lLCBsb2Muam9pbihcIixcIikpXG4gICAgICAgIC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN0YXR1c1wiLCBzdGF0dXMpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVmcmVzaEJvYXJkKGJvYXJkTmFtZSkge1xuICAgIGNvbnN0IGRhdGFCb2FyZCA9IERhdGFbYm9hcmROYW1lID09PSBcInBsYXllclwiID8gXCJQbGF5ZXJcIiA6IFwiQUlcIl0uYm9hcmQ7XG4gICAgY29uc3QgY2VsbHMgPSBPYmplY3QudmFsdWVzKGRhdGFCb2FyZC5jZWxscykucmVkdWNlKChmaW5hbCwgY3VycmVudCkgPT4ge1xuICAgICAgZmluYWwucHVzaChjdXJyZW50LmxvYyk7XG4gICAgICByZXR1cm4gZmluYWw7XG4gICAgfSwgW10pO1xuICAgIHJlZnJlc2hDZWxscyhib2FyZE5hbWUsIC4uLmNlbGxzKTtcbiAgICBkYXRhQm9hcmQuc2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgICAgaWYgKHNoaXAuaXNTdW5rKCkpIHtcbiAgICAgICAgZWxlbS5zaGlwU3RhdHVzW2JvYXJkTmFtZV1bc2hpcC5sZW5ndGggLSAxXS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgXCJkYXRhLXN0YXR1c1wiLFxuICAgICAgICAgIFwic3Vua1wiXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtLnNoaXBTdGF0dXNbYm9hcmROYW1lXVtzaGlwLmxlbmd0aCAtIDFdLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICBcImRhdGEtc3RhdHVzXCIsXG4gICAgICAgICAgXCJpbnRhY3RcIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlU3RhZ2UoKSB7XG4gICAgZWxlbS5yb290LnNldEF0dHJpYnV0ZShcImRhdGEtc3RhZ2VcIiwgc3RhZ2UpO1xuICAgIHJlZnJlc2hCb2FyZChcInBsYXllclwiKTtcbiAgICByZWZyZXNoQm9hcmQoXCJjb21wdXRlclwiKTtcbiAgICBpZiAoc3RhZ2UgPT09IFwiU2V0dXBcIikge1xuICAgICAgZWxlbS5zaGlwU3RhdHVzLnBsYXllclszXS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImNsaWNrXCIpKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3RTaGlwKHNoaXBOdW0pIHtcbiAgICBjb25zdCBpbmRleCA9IHNoaXBOdW0gLSAxO1xuICAgIGNvbnN0IHNoaXAgPSBlbGVtLnNoaXBTdGF0dXMucGxheWVyW2luZGV4XTtcbiAgICBlbGVtLnNoaXBTdGF0dXMucGxheWVyLmZvckVhY2goKHN0YXR1cykgPT4ge1xuICAgICAgaWYgKHN0YXR1cyA9PT0gc2hpcCkge1xuICAgICAgICBpZiAoc3RhdHVzLmNsYXNzTGlzdC5jb250YWlucyhcInNlbGVjdGVkXCIpID09PSBmYWxzZSkge1xuICAgICAgICAgIHN0YXR1cy5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgc2VsZWN0ZWRTaGlwID0gc2hpcE51bTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0dXMuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO1xuICAgICAgICAgIHNlbGVjdGVkU2hpcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gc2VsZWN0ZWRTaGlwTnVtKCkge1xuICAgIHJldHVybiBzZWxlY3RlZFNoaXA7XG4gIH1cblxuICBsZXQgcHJldmlvdXNUb3VjaGVkQ2VsbCA9IG51bGw7XG4gIGZ1bmN0aW9uIHRvdWNoSG9sZFNoaXAodG91Y2hPYmplY3QpIHtcbiAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChcbiAgICAgIHRvdWNoT2JqZWN0LmNsaWVudFgsXG4gICAgICB0b3VjaE9iamVjdC5jbGllbnRZXG4gICAgKTtcbiAgICBpZiAoY2VsbC5jbGFzc0xpc3QuY29udGFpbnMoXCJjZWxsXCIpICYmIHByZXZpb3VzVG91Y2hlZENlbGwgIT09IGNlbGwpIHtcbiAgICAgIGhvbGRTaGlwKFxuICAgICAgICBlbGVtLmJvYXJkLnBsYXllci5jb250YWlucyhjZWxsKSA/IFwicGxheWVyXCIgOiBcImNvbXB1dGVyXCIsXG4gICAgICAgIGNlbGwuZ2V0QXR0cmlidXRlKFwiZGF0YS1sb2NcIilcbiAgICAgICk7XG4gICAgICBwcmV2aW91c1RvdWNoZWRDZWxsID0gY2VsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVUdXJuKHBsYXllck5hbWUpIHtcbiAgICBPYmplY3QuZW50cmllcyhlbGVtLm5hbWUpLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICBpZiAoZW50cnlbMF0gPT09IHBsYXllck5hbWUpIHtcbiAgICAgICAgZW50cnlbMV0uY2xhc3NMaXN0LmFkZChcInBsYXlpbmdcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbnRyeVsxXS5jbGFzc0xpc3QucmVtb3ZlKFwicGxheWluZ1wiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlY2xhcmUodmVyZGljdCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB2ZXJkaWN0ID8gXCJZb3Ugd2luIVwiIDogXCJZb3UgbG9zZSFcIjtcbiAgICBlbGVtLmVuZE1zZy50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgZWxlbS52aWV3LmVuZC5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYXBwZWFyXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdGlhbGlzZSgpIHtcbiAgICBnZW5lcmF0ZUJvYXJkKGVsZW0uYm9hcmQucGxheWVyLCBEYXRhLlBsYXllci5ib2FyZCk7XG4gICAgZ2VuZXJhdGVCb2FyZChlbGVtLmJvYXJkLmNvbXB1dGVyLCBEYXRhLkFJLmJvYXJkKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChzdGFnZSA9PT0gXCJTZXR1cFwiICYmIHNlbGVjdGVkU2hpcCAhPT0gbnVsbCkge1xuICAgICAgICB0b3VjaEhvbGRTaGlwKGV2ZW50LnRvdWNoZXNbMF0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsICgpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgc3RhZ2UgPT09IFwiU2V0dXBcIiAmJlxuICAgICAgICBzZWxlY3RlZFNoaXAgIT09IG51bGwgJiZcbiAgICAgICAgaGVsZENlbGxzLmxlbmd0aCAhPT0gMFxuICAgICAgKSB7XG4gICAgICAgIHBsYWNlSGVsZENlbGxzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZWxlbS5ib2FyZC5wbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xuICAgICAgaWYgKGhlbGRDZWxscy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBoZWxkQ2VsbHMubGVuZ3RoOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgY29uc3QgY2VsbCA9IGhlbGRDZWxscy5wb3AoKTtcbiAgICAgICAgICBpZiAoY2VsbFswXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN0YXR1c1wiKSA9PT0gXCJob2xkXCIpIHtcbiAgICAgICAgICAgIGNlbGxbMF0uc2V0QXR0cmlidXRlKFwiZGF0YS1zdGF0dXNcIiwgY2VsbFsxXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgZWxlbS5ib2FyZC5wbGF5ZXIucXVlcnlTZWxlY3RvckFsbChcIi5jZWxsXCIpLmZvckVhY2goKGNlbGxFbGVtKSA9PiB7XG4gICAgICBhZGRDZWxsRXZlbnRzKGNlbGxFbGVtKTtcbiAgICB9KTtcbiAgICBlbGVtLmJvYXJkLmNvbXB1dGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2VsbFwiKS5mb3JFYWNoKChjZWxsRWxlbSkgPT4ge1xuICAgICAgY2VsbEVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgaWYgKHN0YWdlID09PSBcIkJhdHRsZVwiICYmIEVuZ2luZS5HYW1lLmdldFR1cm4oKSA9PT0gXCJQbGF5ZXJcIikge1xuICAgICAgICAgIEVuZ2luZS5QbGF5ZXIucGxheShjZWxsRWxlbSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGVsZW0uYnRuLmhlbHAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGVsZW0udmlldy5oZWxwLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhcHBlYXJcIik7XG4gICAgICBlbGVtLnRvcEJhci5jbGFzc0xpc3QucmVtb3ZlKFwib3BlblwiKTtcbiAgICB9KTtcbiAgICBlbGVtLnZpZXcuaGVscC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBldmVudC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgIGVsZW0udmlldy5oZWxwLmNsYXNzTGlzdC5hZGQoXCJkaXNhcHBlYXJcIik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZWxlbS52aWV3LmVuZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBldmVudC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgIGVsZW0udmlldy5lbmQuY2xhc3NMaXN0LmFkZChcImRpc2FwcGVhclwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBlbGVtLnNoaXBTdGF0dXMucGxheWVyLmZvckVhY2goKHNoaXAsIGluZGV4KSA9PiB7XG4gICAgICBzaGlwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGlmIChzdGFnZSA9PT0gXCJTZXR1cFwiKSB7XG4gICAgICAgICAgc2VsZWN0U2hpcChpbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBlbGVtLmJ0bi5yZXNldC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgaWYgKHN0YWdlID09PSBcIlNldHVwXCIpIHtcbiAgICAgICAgRW5naW5lLlBsYXllci5yZXNldEJvYXJkKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZWxlbS5idG4ucmFuZG9taXplLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBpZiAoc3RhZ2UgPT09IFwiU2V0dXBcIikge1xuICAgICAgICBFbmdpbmUuUGxheWVyLnJhbmRvbWl6ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGVsZW0uYnRuLm5ld0dhbWUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIEVuZ2luZS5HYW1lLm5ld0dhbWUoKTtcbiAgICAgIGVsZW0udG9wQmFyLmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuXCIpO1xuICAgIH0pO1xuICAgIGVsZW0uYnRuLnN0YXJ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBFbmdpbmUuR2FtZS5zdGFydCgpO1xuICAgIH0pO1xuICAgIGVsZW0udG9wQmFyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4ge1xuICAgICAgZWxlbS50b3BCYXIuY2xhc3NMaXN0LmFkZChcIm9wZW5cIik7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGVsZW0sXG4gICAgaW5pdGlhbGlzZSxcbiAgICB1cGRhdGVTdGFnZSxcbiAgICBzZWxlY3RTaGlwLFxuICAgIHJlZnJlc2hDZWxscyxcbiAgICByZWZyZXNoQm9hcmQsXG4gICAgc2VsZWN0ZWRTaGlwTnVtLFxuICAgIHVwZGF0ZVR1cm4sXG4gICAgZGVjbGFyZSxcbiAgfTtcbn0pKCk7XG5cbmNvbnN0IEVuZ2luZSA9ICgoKSA9PiB7XG4gIGNvbnN0IEFJID0gKCgpID0+IHtcbiAgICBjb25zdCBkYXRhID0gRGF0YS5BSTtcbiAgICBmdW5jdGlvbiByYW5kb21Mb2MoKSB7XG4gICAgICByZXR1cm4gW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSwgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgIC8vIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXCJBSSdzIHRpbWUgdG8gc2hpbmVcIik7XG4gICAgICBsZXQgbG9jO1xuICAgICAgbGV0IGRpcjtcbiAgICAgIGlmIChkYXRhLmV4cG9zZWRTaGlwcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgbGV0IGludmFsaWQgPSB0cnVlO1xuICAgICAgICB3aGlsZSAoaW52YWxpZCkge1xuICAgICAgICAgIGxvYyA9IHJhbmRvbUxvYygpO1xuICAgICAgICAgIGlmIChkYXRhLmxvb2sobG9jKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGludmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZGF0YS5leHBvc2VkU2hpcHNbMF0uZGlyZWN0aW9uKCkgPT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgZGlycyA9IFtcInVwXCIsIFwiZG93blwiLCBcImxlZnRcIiwgXCJyaWdodFwiXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgYWRqYWNlbnQgPSBEYXRhLlBsYXllci5ib2FyZC5nZXRBZGphY2VudENlbGwoXG4gICAgICAgICAgICBkYXRhLmV4cG9zZWRTaGlwc1swXS5jZWxsc1swXSxcbiAgICAgICAgICAgIGRpcnNbaV1cbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChhZGphY2VudCAhPT0gZmFsc2UgJiYgZGF0YS5sb29rKGFkamFjZW50KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwibG9vayBzYXlzOlwiLCBkYXRhLmxvb2soYWRqYWNlbnQpKTtcbiAgICAgICAgICAgIGxvYyA9IGFkamFjZW50O1xuICAgICAgICAgICAgZGlyID0gZGlyc1tpXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJmb3VuZCBkaXJlY3Rpb246XCIsIGRhdGEuZXhwb3NlZFNoaXBzWzBdLmRpcmVjdGlvbigpKTtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9ucyA9XG4gICAgICAgICAgZGF0YS5leHBvc2VkU2hpcHNbMF0uZGlyZWN0aW9uKCkgPT09IFwidmVydGljYWxcIlxuICAgICAgICAgICAgPyBbXCJ1cFwiLCBcImRvd25cIl1cbiAgICAgICAgICAgIDogW1wibGVmdFwiLCBcInJpZ2h0XCJdO1xuICAgICAgICBjb25zdCBjZWxsSGVhZCA9IGRhdGFcbiAgICAgICAgICAuY3VycmVudEJvYXJkKClcbiAgICAgICAgICAuZ2V0QWRqYWNlbnRDZWxsKGRhdGEuZXhwb3NlZFNoaXBzWzBdLmNlbGxzWzBdLCBkaXJlY3Rpb25zWzBdKTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImNlbGxIZWFkOlwiLCBjZWxsSGVhZCk7XG4gICAgICAgIGlmIChjZWxsSGVhZCAhPT0gZmFsc2UgJiYgZGF0YS5sb29rKGNlbGxIZWFkKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBsb2MgPSBjZWxsSGVhZDtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgICBkaXIgPSBkaXJlY3Rpb25zWzBdO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZ29pbmcgd2l0aCBjZWxsSGVhZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImdvaW5nIHdpdGggY2VsbEVuZFwiKTtcbiAgICAgICAgICBjb25zdCBjZWxsRW5kID0gZGF0YVxuICAgICAgICAgICAgLmN1cnJlbnRCb2FyZCgpXG4gICAgICAgICAgICAuZ2V0QWRqYWNlbnRDZWxsKFxuICAgICAgICAgICAgICBkYXRhLmV4cG9zZWRTaGlwc1swXS5jZWxsc1tkYXRhLmV4cG9zZWRTaGlwc1swXS5jZWxscy5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgICAgZGlyZWN0aW9uc1sxXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsb2MgPSBjZWxsRW5kO1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICAgIGRpciA9IGRpcmVjdGlvbnNbMV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRhdGEudmlzaWJsZUNlbGxzLnB1c2goSlNPTi5zdHJpbmdpZnkobG9jKSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIkdvbm5hIHRyeTpcIiwgbG9jKTtcbiAgICAgIGNvbnN0IGhpdCA9IERhdGEuUGxheWVyLmJvYXJkLnJlY2VpdmVBdHRhY2sobG9jKTtcbiAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgbGV0IG5ld1NoaXAgPSB0cnVlO1xuICAgICAgICBjb25zdCBzaGlwTnVtID0gRGF0YS5QbGF5ZXIuYm9hcmQuY2VsbHNbbG9jXS5zaGlwO1xuICAgICAgICBjb25zdCBzdW5rID0gRGF0YS5QbGF5ZXIuYm9hcmQuc2hpcHNbc2hpcE51bSAtIDFdLmlzU3VuaygpO1xuICAgICAgICBpZiAoZGF0YS5leHBvc2VkU2hpcHMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgZGF0YS5leHBvc2VkU2hpcHMuZm9yRWFjaCgoZXhwb3NlZFNoaXAsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoc2hpcE51bSA9PT0gZXhwb3NlZFNoaXAuc2hpcCkge1xuICAgICAgICAgICAgICBuZXdTaGlwID0gZmFsc2U7XG4gICAgICAgICAgICAgIGlmIChzdW5rID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmIChbXCJ1cFwiLCBcImxlZnRcIl0uaW5jbHVkZXMoZGlyKSkge1xuICAgICAgICAgICAgICAgICAgZXhwb3NlZFNoaXAuY2VsbHMudW5zaGlmdChsb2MpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBleHBvc2VkU2hpcC5jZWxscy5wdXNoKGxvYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChleHBvc2VkU2hpcC5kaXJlY3Rpb24oKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgZXhwb3NlZFNoaXAuZGlyZWN0aW9uKGRpcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEuZXhwb3NlZFNoaXBzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3U2hpcCAmJiBzdW5rID09PSBmYWxzZSkge1xuICAgICAgICAgIGNvbnN0IG5ld0V4cG9zZWQgPSBkYXRhLmV4cG9zZWQoRGF0YS5QbGF5ZXIuYm9hcmQuY2VsbHNbbG9jXS5zaGlwKTtcbiAgICAgICAgICBkYXRhLmV4cG9zZWRTaGlwcy5wdXNoKG5ld0V4cG9zZWQpO1xuICAgICAgICAgIG5ld0V4cG9zZWQuY2VsbHMucHVzaChsb2MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgVUkucmVmcmVzaEJvYXJkKFwicGxheWVyXCIpO1xuICAgICAgICBFbmdpbmUuR2FtZS51cGRhdGVUdXJuKCk7XG4gICAgICB9LCAxNTAwKTtcbiAgICAgIC8vIGNvbnNvbGUuZ3JvdXBFbmQoXCJBSSBvdXRcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0Qm9hcmQoKSB7XG4gICAgICBEYXRhLkFJLnJlc2V0KCk7XG4gICAgICBVSS5yZWZyZXNoQm9hcmQoXCJjb21wdXRlclwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBwbGF5LCByYW5kb21Mb2MsIHJlc2V0Qm9hcmQgfTtcbiAgfSkoKTtcblxuICBjb25zdCBQbGF5ZXIgPSAoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIHBsYXkoY2VsbEVsZW0pIHtcbiAgICAgIGNvbnN0IGxvYyA9IEpTT04ucGFyc2UoYFske2NlbGxFbGVtLmdldEF0dHJpYnV0ZShcImRhdGEtbG9jXCIpfV1gKTtcbiAgICAgIGlmIChEYXRhLkFJLmJvYXJkLmNlbGxzW2xvY10uc2hvdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgRGF0YS5BSS5ib2FyZC5yZWNlaXZlQXR0YWNrKGxvYyk7XG4gICAgICAgIFVJLnJlZnJlc2hCb2FyZChcImNvbXB1dGVyXCIpO1xuICAgICAgICBHYW1lLnVwZGF0ZVR1cm4oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcGxhY2Uoc2hpcE51bSwgc2hpcENlbGxMb2NzKSB7XG4gICAgICBjb25zdCBlbXB0eSA9IHNoaXBDZWxsTG9jcy5yZWR1Y2UoKGZpbmFsLCBjdXJyZW50KSA9PiB7XG4gICAgICAgIGlmIChEYXRhLlBsYXllci5ib2FyZC5jZWxsc1tjdXJyZW50XS5zaGlwICE9PSBudWxsKSB7XG4gICAgICAgICAgZmluYWwgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmluYWw7XG4gICAgICB9LCB0cnVlKTtcbiAgICAgIGlmIChlbXB0eSkge1xuICAgICAgICBEYXRhLlBsYXllci5ib2FyZC5wbGFjZShzaGlwTnVtLCAuLi5zaGlwQ2VsbExvY3MpO1xuICAgICAgICBVSS5yZWZyZXNoQ2VsbHMoXCJwbGF5ZXJcIiwgLi4uc2hpcENlbGxMb2NzKTtcbiAgICAgICAgY29uc3QgbmV4dFNoaXAgPSBEYXRhLlBsYXllci5ib2FyZC5zaGlwcy5yZWR1Y2UoKGZpbmFsLCBjdXJyZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGN1cnJlbnQuY2VsbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBmaW5hbCA9IGN1cnJlbnQubGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmluYWw7XG4gICAgICAgIH0sIHNoaXBOdW0pO1xuICAgICAgICBVSS5zZWxlY3RTaGlwKG5leHRTaGlwKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0Qm9hcmQoKSB7XG4gICAgICBEYXRhLlBsYXllci5ib2FyZC5pbml0aWF0ZSgpO1xuICAgICAgVUkucmVmcmVzaEJvYXJkKFwicGxheWVyXCIpO1xuICAgICAgVUkuc2VsZWN0U2hpcCg0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmFuZG9taXplKCkge1xuICAgICAgRGF0YS5QbGF5ZXIuYm9hcmQucGxhY2VBdFJhbmRvbSgpO1xuICAgICAgVUkucmVmcmVzaEJvYXJkKFwicGxheWVyXCIpO1xuICAgICAgaWYgKFVJLnNlbGVjdGVkU2hpcE51bSAhPT0gbnVsbCkge1xuICAgICAgICBVSS5zZWxlY3RTaGlwKFVJLnNlbGVjdGVkU2hpcE51bSgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBwbGF5LCBwbGFjZSwgcmVzZXRCb2FyZCwgcmFuZG9taXplIH07XG4gIH0pKCk7XG5cbiAgY29uc3QgR2FtZSA9ICgoKSA9PiB7XG4gICAgbGV0IHR1cm4gPSBudWxsO1xuICAgIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgY29uc3QgcmVhZHkgPSBEYXRhLlBsYXllci5ib2FyZC5zaGlwcy5yZWR1Y2UoKGZpbmFsLCBjdXJyZW50KSA9PiB7XG4gICAgICAgIGlmIChjdXJyZW50LmNlbGxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGZpbmFsID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbmFsO1xuICAgICAgfSwgdHJ1ZSk7XG4gICAgICBpZiAoc3RhZ2UgPT09IFwiU2V0dXBcIiAmJiByZWFkeSkge1xuICAgICAgICBEYXRhLkFJLmJvYXJkLnBsYWNlQXRSYW5kb20oKTtcbiAgICAgICAgdXBkYXRlU3RhZ2UoXCJCYXR0bGVcIik7XG4gICAgICAgIHR1cm4gPSBcIlBsYXllclwiO1xuICAgICAgICBVSS51cGRhdGVUdXJuKFwicGxheWVyXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVR1cm4oKSB7XG4gICAgICB0dXJuID0gdHVybiA9PT0gXCJQbGF5ZXJcIiA/IFwiQUlcIiA6IFwiUGxheWVyXCI7XG4gICAgICBpZiAoRGF0YVt0dXJuXS5ib2FyZC5kZWZlYXRlZCgpKSB7XG4gICAgICAgIGVuZEdhbWUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFVJLnVwZGF0ZVR1cm4odHVybiA9PT0gXCJQbGF5ZXJcIiA/IFwicGxheWVyXCIgOiBcImNvbXB1dGVyXCIpO1xuICAgICAgICBpZiAodHVybiA9PT0gXCJBSVwiKSB7XG4gICAgICAgICAgQUkucGxheSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZW5kR2FtZSgpIHtcbiAgICAgIGxldCB3b247XG4gICAgICBpZiAoRGF0YS5BSS5ib2FyZC5kZWZlYXRlZCgpKSB7XG4gICAgICAgIHdvbiA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKERhdGEuUGxheWVyLmJvYXJkLmRlZmVhdGVkKCkpIHtcbiAgICAgICAgd29uID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIk5laXRoZXIgYm9hcmQgaXMgZGVmZWF0ZWQgYnV0IGVuZEdhbWUgd2FzIGNhbGxlZFwiKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZVN0YWdlKFwiRW5kXCIpO1xuICAgICAgVUkuZGVjbGFyZSh3b24pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFR1cm4oKSB7XG4gICAgICByZXR1cm4gdHVybjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHR1cm4gPSBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5ld0dhbWUoKSB7XG4gICAgICBBSS5yZXNldEJvYXJkKCk7XG4gICAgICBQbGF5ZXIucmVzZXRCb2FyZCgpO1xuICAgICAgcmVzZXQoKTtcbiAgICAgIHVwZGF0ZVN0YWdlKFwiU2V0dXBcIik7XG4gICAgfVxuICAgIHJldHVybiB7IHN0YXJ0LCBuZXdHYW1lLCB1cGRhdGVUdXJuLCBnZXRUdXJuLCByZXNldCB9O1xuICB9KSgpO1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZVN0YWdlKHZhbHVlKSB7XG4gICAgc3RhZ2UgPSB2YWx1ZTtcbiAgICBVSS51cGRhdGVTdGFnZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdGlhbGlzZSgpIHtcbiAgICBVSS5pbml0aWFsaXNlKCk7XG4gICAgdXBkYXRlU3RhZ2UoXCJTZXR1cFwiKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgQUksXG4gICAgUGxheWVyLFxuICAgIEdhbWUsXG4gICAgaW5pdGlhbGlzZSxcbiAgfTtcbn0pKCk7XG5cbkVuZ2luZS5pbml0aWFsaXNlKCk7XG4iXSwibmFtZXMiOlsiRGF0YSIsIlNoaXAiLCJsZW5ndGgiLCJFcnJvciIsImhpdENvdW50IiwiaGl0IiwiaXNTdW5rIiwiY2VsbHMiLCJDZWxsIiwibG9jIiwic2hpcCIsInNob3QiLCJHYW1lYm9hcmQiLCJzaXplIiwic2hpcHMiLCJpbml0aWF0ZSIsInNwbGljZSIsIkluZmluaXR5IiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJjZWxsIiwieCIsInkiLCJpIiwicHVzaCIsInBsYWNlIiwibG9jcyIsIm51bSIsInhDb29yZHMiLCJ5Q29vcmRzIiwiaXNTaW1pbGFyIiwibnVtcyIsInJlc3VsdCIsInNoaXBDZWxscyIsImdldEFkamFjZW50Q2VsbCIsImRpciIsInR5cGUiLCJKU09OIiwicGFyc2UiLCJyZWR1Y2UiLCJmaW5hbCIsImN1cnJlbnQiLCJBcnJheSIsImlzQXJyYXkiLCJqb2luIiwicGxhY2VBdFJhbmRvbSIsImNlbGxMb2NzIiwicmFuZG9tQ2VsbExvYyIsInJhbmRvbUluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic2hpcE51bSIsImRpcnMiLCJuZXdDZWxsIiwic2xpY2UiLCJmaW5kQ2VsbHMiLCJyZWNlaXZlQXR0YWNrIiwiZGVmZWF0ZWQiLCJBSSIsInZpc2libGVDZWxscyIsImJvYXJkIiwiY3VycmVudEJvYXJkIiwiUGxheWVyIiwibG9vayIsImluY2x1ZGVzIiwic3RyaW5naWZ5IiwiZXhwb3NlZFNoaXBzIiwicmVzZXQiLCJleHBvc2VkIiwiZGlyZWN0aW9uIiwidGV4dCIsImRpcmVjdGlvbnMiLCJjZWxsSGVhZCIsImNlbGxFbmQiLCJtb2R1bGUiLCJleHBvcnRzIiwiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJpZCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJtb2R1bGVzIiwibWVkaWEiLCJkZWR1cGUiLCJzdXBwb3J0cyIsImxheWVyIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsInN0eWxlc0luRE9NIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwibW9kdWxlc1RvRG9tIiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsImluZGV4QnlJZGVudGlmaWVyIiwib2JqIiwiY3NzIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRFbGVtZW50U3R5bGUiLCJieUluZGV4IiwiYXBpIiwiZG9tQVBJIiwidXBkYXRlIiwibmV3T2JqIiwicmVtb3ZlIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsImluZGV4IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJtZW1vIiwiaW5zZXJ0Iiwic3R5bGUiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJnZXRUYXJnZXQiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibmMiLCJzdGFnZSIsIlVJIiwiZWxlbSIsInJvb3QiLCJwbGF5ZXIiLCJjb21wdXRlciIsImJ0biIsImhlbHAiLCJuZXdHYW1lIiwicmFuZG9taXplIiwic3RhcnQiLCJ2aWV3IiwiYXJlbmEiLCJlbmQiLCJzaGlwU3RhdHVzIiwibmFtZSIsInRvcEJhciIsImVuZE1zZyIsImdldENlbGwiLCJib2FyZE5hbWUiLCJzZWxlY3RlZFNoaXAiLCJzZWxlY3RlZFNoaXBPcmllbnRhdGlvbiIsImhlbGRDZWxscyIsImdlbmVyYXRlQm9hcmQiLCJib2FyZEVsZW0iLCJib2FyZERhdGEiLCJjbGFzc0xpc3QiLCJhZGQiLCJob2xkU2hpcCIsImNoZWNrTG9jIiwiY29vcmQiLCJwb3AiLCJnZXRBdHRyaWJ1dGUiLCJjdXJyZW50Q2VsbCIsInRlbXBMb2NzIiwidW5zaGlmdCIsInBsYWNlSGVsZENlbGxzIiwic2hpcENlbGxMb2NzIiwib2xkQ2VsbHMiLCJFbmdpbmUiLCJyZWZyZXNoQ2VsbHMiLCJzdGF0dXMiLCJyZWZyZXNoQm9hcmQiLCJkYXRhQm9hcmQiLCJ2YWx1ZXMiLCJzZWxlY3RTaGlwIiwiY29udGFpbnMiLCJwcmV2aW91c1RvdWNoZWRDZWxsIiwiaW5pdGlhbGlzZSIsImJvZHkiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJ0b3VjaE9iamVjdCIsImVsZW1lbnRGcm9tUG9pbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsInRvdWNoSG9sZFNoaXAiLCJ0b3VjaGVzIiwicXVlcnlTZWxlY3RvckFsbCIsImNlbGxFbGVtIiwicHJldmVudERlZmF1bHQiLCJhZGRDZWxsRXZlbnRzIiwiR2FtZSIsImdldFR1cm4iLCJwbGF5IiwiY3VycmVudFRhcmdldCIsInJlc2V0Qm9hcmQiLCJ1cGRhdGVTdGFnZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsInNlbGVjdGVkU2hpcE51bSIsInVwZGF0ZVR1cm4iLCJwbGF5ZXJOYW1lIiwiZW50cmllcyIsImVudHJ5IiwiZGVjbGFyZSIsInZlcmRpY3QiLCJtZXNzYWdlIiwidGV4dENvbnRlbnQiLCJyYW5kb21Mb2MiLCJpbnZhbGlkIiwiYWRqYWNlbnQiLCJuZXdTaGlwIiwic3VuayIsImV4cG9zZWRTaGlwIiwibmV3RXhwb3NlZCIsInNldFRpbWVvdXQiLCJuZXh0U2hpcCIsInR1cm4iLCJyZWFkeSIsIndvbiIsImVuZEdhbWUiLCJ2YWx1ZSJdLCJzb3VyY2VSb290IjoiIn0=